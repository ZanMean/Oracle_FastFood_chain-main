--------------------------------------------------------
--  File created - Wednesday-June-22-2022   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Type TABLE_TON_KHO
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TYPE "DOAN"."TABLE_TON_KHO" IS TABLE OF TYPE_TON_KHO;

/
--------------------------------------------------------
--  DDL for Type TYPE_TON_KHO
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TYPE "DOAN"."TYPE_TON_KHO" IS OBJECT (Thang VARCHAR2(5),Nam VARCHAR2(5),Ma_nguyen_lieu CHAR(7),
Ten_nguyen_lieu NVARCHAR2(30),So_luong_ton NUMBER(10));

/
--------------------------------------------------------
--  DDL for Sequence SEQ_DVT_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_DVT_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_HD_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_HD_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 61 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_KHOCHINHANH_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_KHOCHINHANH_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_KHOLANH_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_KHOLANH_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_KHOPHANPHOI_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_KHOPHANPHOI_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_KHO_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_KHO_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_KH_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_KH_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_LH_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_LH_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_LNL_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_LNL_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_LSP_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_LSP_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_NCC_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_NCC_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_NL_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_NL_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_NV_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_NV_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_PN_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_PN_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_PX_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_PX_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_SP_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_SP_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_TH_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_TH_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 41 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SEQ_TX_ID
--------------------------------------------------------

   CREATE SEQUENCE  "DOAN"."SEQ_TX_ID"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Table BIEN_DONG_GIA
--------------------------------------------------------

  CREATE TABLE "DOAN"."BIEN_DONG_GIA" 
   (	"MASP" CHAR(7 BYTE), 
	"MANV" CHAR(7 BYTE), 
	"DON_GIA" FLOAT(126) DEFAULT 1000, 
	"NGAY_CAP_NHAT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT INSERT ON "DOAN"."BIEN_DONG_GIA" TO "BINHMINH";
--------------------------------------------------------
--  DDL for Table CHI_TIET_NHAN_VIEN
--------------------------------------------------------

  CREATE TABLE "DOAN"."CHI_TIET_NHAN_VIEN" 
   (	"MANV" CHAR(7 BYTE), 
	"CA" NUMBER(1,0), 
	"MA_NQL" CHAR(7 BYTE), 
	"MA_CO_SO" CHAR(7 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table CO_SO
--------------------------------------------------------

  CREATE TABLE "DOAN"."CO_SO" 
   (	"MA_CO_SO" CHAR(7 BYTE), 
	"TEN_CO_SO" NVARCHAR2(30), 
	"DIA_CHI" NVARCHAR2(60), 
	"TINH_TRANG" NVARCHAR2(20) DEFAULT u'Ho\1ea1t \0111\1ed9ng', 
	"LOAI_CO_SO" NVARCHAR2(25), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT SELECT ON "DOAN"."CO_SO" TO "BINHMINH";
--------------------------------------------------------
--  DDL for Table CT_HOA_DON
--------------------------------------------------------

  CREATE TABLE "DOAN"."CT_HOA_DON" 
   (	"SOHD" CHAR(7 BYTE), 
	"MASP" CHAR(7 BYTE), 
	"SO_LUONG" NUMBER(*,0) DEFAULT 1, 
	"THANH_TIEN" FLOAT(126) DEFAULT 1000
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT UPDATE ON "DOAN"."CT_HOA_DON" TO "VANMINH";
--------------------------------------------------------
--  DDL for Table CT_LO_HANG
--------------------------------------------------------

  CREATE TABLE "DOAN"."CT_LO_HANG" 
   (	"MALO" CHAR(7 BYTE), 
	"MA_THUNG" CHAR(7 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table CT_PHIEU_NHAP
--------------------------------------------------------

  CREATE TABLE "DOAN"."CT_PHIEU_NHAP" 
   (	"MA_PHIEU_NHAP" CHAR(7 BYTE), 
	"MALO" CHAR(7 BYTE), 
	"THOI_HAN" NUMBER(1,0) DEFAULT 5
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table CT_PHIEU_XUAT
--------------------------------------------------------

  CREATE TABLE "DOAN"."CT_PHIEU_XUAT" 
   (	"MA_PHIEU_XUAT" CHAR(7 BYTE), 
	"MALO" CHAR(7 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table CT_SAN_PHAM
--------------------------------------------------------

  CREATE TABLE "DOAN"."CT_SAN_PHAM" 
   (	"MASP" CHAR(7 BYTE), 
	"MANL" CHAR(7 BYTE), 
	"SO_LUONG" NUMBER(2,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table CT_THUNG
--------------------------------------------------------

  CREATE TABLE "DOAN"."CT_THUNG" 
   (	"MA_THUNG" CHAR(7 BYTE), 
	"MANL" CHAR(7 BYTE), 
	"TONG_SO_NL" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table DON_VI_TINH
--------------------------------------------------------

  CREATE TABLE "DOAN"."DON_VI_TINH" 
   (	"MADVT" CHAR(7 BYTE), 
	"TENDVT" NVARCHAR2(20), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table HOA_DON
--------------------------------------------------------

  CREATE TABLE "DOAN"."HOA_DON" 
   (	"SOHD" CHAR(7 BYTE), 
	"NGAY_LAP_HD" DATE DEFAULT SYSDATE, 
	"MANV" CHAR(7 BYTE), 
	"MAKH" CHAR(7 BYTE), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT SELECT ON "DOAN"."HOA_DON" TO "VANMINH";
--------------------------------------------------------
--  DDL for Table KHACH_HANG
--------------------------------------------------------

  CREATE TABLE "DOAN"."KHACH_HANG" 
   (	"MAKH" CHAR(7 BYTE), 
	"SDT_KH" NUMBER(12,0), 
	"HO_LOT" NVARCHAR2(20), 
	"TEN_KH" NVARCHAR2(20), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT DELETE ON "DOAN"."KHACH_HANG" TO "GIAKHUONG";
  GRANT INSERT ON "DOAN"."KHACH_HANG" TO "GIAKHUONG";
  GRANT SELECT ON "DOAN"."KHACH_HANG" TO "GIAKHUONG";
--------------------------------------------------------
--  DDL for Table LOAI_NGUYEN_LIEU
--------------------------------------------------------

  CREATE TABLE "DOAN"."LOAI_NGUYEN_LIEU" 
   (	"MALNL" CHAR(7 BYTE), 
	"TENLNL" NVARCHAR2(30), 
	"MANCC" CHAR(7 BYTE), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table LOAI_SAN_PHAM
--------------------------------------------------------

  CREATE TABLE "DOAN"."LOAI_SAN_PHAM" 
   (	"MALSP" CHAR(7 BYTE), 
	"TENLSP" NVARCHAR2(30), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table LO_HANG
--------------------------------------------------------

  CREATE TABLE "DOAN"."LO_HANG" 
   (	"MALO" CHAR(7 BYTE), 
	"TONG_SO_THUNG" NUMBER(*,0), 
	"SO_XE" VARCHAR2(12 BYTE), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table NGUYEN_LIEU
--------------------------------------------------------

  CREATE TABLE "DOAN"."NGUYEN_LIEU" 
   (	"MANL" CHAR(7 BYTE), 
	"TENNL" NVARCHAR2(30), 
	"DON_GIA" FLOAT(126), 
	"MALNL" CHAR(7 BYTE), 
	"MADVT" CHAR(7 BYTE), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT INSERT ON "DOAN"."NGUYEN_LIEU" TO "GIAKHUONG";
  GRANT SELECT ON "DOAN"."NGUYEN_LIEU" TO "GIAKHUONG";
  GRANT UPDATE ON "DOAN"."NGUYEN_LIEU" TO "GIAKHUONG";
--------------------------------------------------------
--  DDL for Table NHAN_VIEN
--------------------------------------------------------

  CREATE TABLE "DOAN"."NHAN_VIEN" 
   (	"MANV" CHAR(7 BYTE), 
	"CMND" NUMBER(12,0), 
	"HO_LOT" NVARCHAR2(30), 
	"TENNV" NVARCHAR2(20), 
	"TUOI" NUMBER(2,0) DEFAULT 18, 
	"GIOI_TINH" NVARCHAR2(3), 
	"SDT" NUMBER(12,0), 
	"CHUC_VU" NVARCHAR2(30) DEFAULT u'Nh\00e2n vi\00ean', 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT SELECT ON "DOAN"."NHAN_VIEN" TO "BINHMINH";
--------------------------------------------------------
--  DDL for Table NHA_CUNG_CAP
--------------------------------------------------------

  CREATE TABLE "DOAN"."NHA_CUNG_CAP" 
   (	"MANCC" CHAR(7 BYTE), 
	"TENNCC" NVARCHAR2(30), 
	"DIA_CHI" NVARCHAR2(60), 
	"SDT" NUMBER(12,0), 
	"TINH_TRANG" NVARCHAR2(15) DEFAULT u'Ho\1ea1t \0111\1ed9ng', 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT INSERT ON "DOAN"."NHA_CUNG_CAP" TO "VANMINH";
  GRANT SELECT ON "DOAN"."NHA_CUNG_CAP" TO "VANMINH";
--------------------------------------------------------
--  DDL for Table PHAN_CONG
--------------------------------------------------------

  CREATE TABLE "DOAN"."PHAN_CONG" 
   (	"SO_XE" VARCHAR2(12 BYTE), 
	"MA_TAI_XE" CHAR(7 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PHIEU_NHAP
--------------------------------------------------------

  CREATE TABLE "DOAN"."PHIEU_NHAP" 
   (	"MA_PHIEU_NHAP" CHAR(7 BYTE), 
	"NGAY_LAP_PHIEU" DATE DEFAULT SYSDATE, 
	"NGAY_NHAP_HANG" DATE DEFAULT SYSDATE, 
	"MANV" CHAR(7 BYTE), 
	"MA_CO_SO_NHAP" CHAR(7 BYTE), 
	"MA_CO_SO_XUAT" CHAR(7 BYTE), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT UPDATE ON "DOAN"."PHIEU_NHAP" TO "GIAKHUONG";
--------------------------------------------------------
--  DDL for Table PHIEU_XUAT
--------------------------------------------------------

  CREATE TABLE "DOAN"."PHIEU_XUAT" 
   (	"MA_PHIEU_XUAT" CHAR(7 BYTE), 
	"NGAY_LAP_PHIEU" DATE DEFAULT SYSDATE, 
	"NGAY_XUAT_HANG" DATE DEFAULT SYSDATE, 
	"MANV" CHAR(7 BYTE), 
	"MA_CO_SO_NHAP" CHAR(7 BYTE), 
	"MA_CO_SO_XUAT" CHAR(7 BYTE), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT SELECT ON "DOAN"."PHIEU_XUAT" TO "GIAKHUONG";
--------------------------------------------------------
--  DDL for Table SAN_PHAM
--------------------------------------------------------

  CREATE TABLE "DOAN"."SAN_PHAM" 
   (	"MASP" CHAR(7 BYTE), 
	"TENSP" NVARCHAR2(30), 
	"MALSP" CHAR(7 BYTE), 
	"MADVT" CHAR(7 BYTE), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT UPDATE ON "DOAN"."SAN_PHAM" TO "BINHMINH";
--------------------------------------------------------
--  DDL for Table TAI_XE
--------------------------------------------------------

  CREATE TABLE "DOAN"."TAI_XE" 
   (	"MA_TAI_XE" CHAR(7 BYTE), 
	"TEN_TAI_XE" NVARCHAR2(20), 
	"CA" NUMBER(1,0), 
	"TUYEN" NVARCHAR2(30), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table THUNG
--------------------------------------------------------

  CREATE TABLE "DOAN"."THUNG" 
   (	"MA_THUNG" CHAR(7 BYTE), 
	"TINH_TRANG" NVARCHAR2(12) DEFAULT u'Nguy\00ean ki\1ec7n', 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TON_KHO
--------------------------------------------------------

  CREATE TABLE "DOAN"."TON_KHO" 
   (	"THANG" VARCHAR2(5 BYTE), 
	"NAM" VARCHAR2(5 BYTE), 
	"MA_NGUYEN_LIEU" CHAR(7 BYTE), 
	"TEN_NGUYEN_LIEU" NVARCHAR2(30), 
	"SO_LUONG_TON" NUMBER(10,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table XE_VAN_CHUYEN
--------------------------------------------------------

  CREATE TABLE "DOAN"."XE_VAN_CHUYEN" 
   (	"SO_XE" VARCHAR2(12 BYTE), 
	"LOAI_XE" NVARCHAR2(20), 
	"HANG" NVARCHAR2(20), 
	"DEL_STATUS" VARCHAR2(7 BYTE) DEFAULT 'ACTIVE'
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
  GRANT DELETE ON "DOAN"."XE_VAN_CHUYEN" TO "VANMINH";
--------------------------------------------------------
--  DDL for View CHI_PHI
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."CHI_PHI" ("THANG", "NAM", "TENNL", "DON_GIA", "SO_LUONG_NHAP", "TONG_CHI_PHI") AS 
  SELECT THANG, NAM, NGUYEN_LIEU.TENNL, DON_GIA,SO_LUONG_NHAP, (DON_GIA * SO_LUONG_NHAP) TONG_CHI_PHI
FROM NHAP_KHO JOIN NGUYEN_LIEU ON NHAP_KHO.MANL = NGUYEN_LIEU.MANL
;
  GRANT INSERT ON "DOAN"."CHI_PHI" TO "BINHMINH";
--------------------------------------------------------
--  DDL for View CONG_THUC_SAN_PHAM
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."CONG_THUC_SAN_PHAM" ("TENSP", "TENNL", "SO_LUONG") AS 
  SELECT TENSP, TENNL, SO_LUONG
FROM CT_SAN_PHAM JOIN NGUYEN_LIEU ON CT_SAN_PHAM.MANL = NGUYEN_LIEU.MANL
JOIN SAN_PHAM ON SAN_PHAM.MASP =CT_SAN_PHAM.MASP
WHERE SAN_PHAM.DEL_STATUS NOT LIKE 'DELETED'
;
  GRANT DELETE ON "DOAN"."CONG_THUC_SAN_PHAM" TO "VANMINH";
  GRANT UPDATE ON "DOAN"."CONG_THUC_SAN_PHAM" TO "VANMINH";
--------------------------------------------------------
--  DDL for View CONG_THUC_SAN_PHAM_ADMIN
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."CONG_THUC_SAN_PHAM_ADMIN" ("TENSP", "TENNL", "SO_LUONG", "TINH_TRANG") AS 
  SELECT TENSP, TENNL, SO_LUONG, SAN_PHAM.DEL_STATUS AS TINH_TRANG
FROM CT_SAN_PHAM JOIN NGUYEN_LIEU ON CT_SAN_PHAM.MANL = NGUYEN_LIEU.MANL
JOIN SAN_PHAM ON SAN_PHAM.MASP =CT_SAN_PHAM.MASP
;
--------------------------------------------------------
--  DDL for View DANH_SACH_HOA_DON
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."DANH_SACH_HOA_DON" ("SOHD", "NGAY_LAP_HD", "TONG_TIEN", "NHAN_VIEN_LAP_PHIEU", "TEN_KHACH_HANG") AS 
  SELECT SOHD, NGAY_LAP_HD, TONG_TIEN, 
CONCAT(CONCAT(NHAN_VIEN.HO_LOT,' '), TENNV) AS NHAN_VIEN_LAP_PHIEU, CONCAT(CONCAT(KHACH_HANG.HO_LOT,' '), TEN_KH)AS TEN_KHACH_HANG
FROM V_HOA_DON JOIN KHACH_HANG ON V_HOA_DON.MAKH = KHACH_HANG.MAKH
JOIN NHAN_VIEN ON V_HOA_DON.MANV=NHAN_VIEN.MANV
WHERE V_HOA_DON.DEL_STATUS NOT LIKE 'DELETED'
;
  GRANT SELECT ON "DOAN"."DANH_SACH_HOA_DON" TO "VANMINH";
--------------------------------------------------------
--  DDL for View DANH_SACH_HOA_DON_ADMIN
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."DANH_SACH_HOA_DON_ADMIN" ("SOHD", "NGAY_LAP_HD", "TONG_TIEN", "NHAN_VIEN_LAP_PHIEU", "TEN_KHACH_HANG", "TINH_TRANG") AS 
  SELECT SOHD, NGAY_LAP_HD, TONG_TIEN, 
CONCAT(CONCAT(NHAN_VIEN.HO_LOT,' '), TENNV) AS NHAN_VIEN_LAP_PHIEU,
CONCAT(CONCAT(KHACH_HANG.HO_LOT,' '), TEN_KH)AS TEN_KHACH_HANG, V_HOA_DON.DEL_STATUS AS TINH_TRANG
FROM V_HOA_DON JOIN KHACH_HANG ON V_HOA_DON.MAKH = KHACH_HANG.MAKH
JOIN NHAN_VIEN ON V_HOA_DON.MANV=NHAN_VIEN.MANV
;
--------------------------------------------------------
--  DDL for View DANH_SACH_NHAN_VIEN
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."DANH_SACH_NHAN_VIEN" ("MANV", "HO_TEN", "GIOI_TINH", "SDT", "CHUC_VU") AS 
  SELECT MANV, CONCAT(CONCAT(HO_LOT,' '), TENNV) AS HO_TEN, GIOI_TINH, SDT, CHUC_VU
FROM NHAN_VIEN
WHERE DEL_STATUS NOT LIKE 'DELETED'
;
--------------------------------------------------------
--  DDL for View DANH_SACH_NHAN_VIEN_ADMIN
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."DANH_SACH_NHAN_VIEN_ADMIN" ("MANV", "HO_TEN", "GIOI_TINH", "SDT", "CHUC_VU", "TINH_TRANG") AS 
  SELECT MANV, CONCAT(CONCAT(HO_LOT,' '), TENNV) AS HO_TEN, GIOI_TINH, SDT, CHUC_VU,NHAN_VIEN.DEL_STATUS AS TINH_TRANG
FROM NHAN_VIEN
;
--------------------------------------------------------
--  DDL for View DANH_SACH_SAN_PHAM
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."DANH_SACH_SAN_PHAM" ("TENSP", "TENLSP", "TENDVT") AS 
  SELECT TENSP, TENLSP, TENDVT
FROM SAN_PHAM JOIN loai_san_pham ON SAN_PHAM.MALSP = LOAI_SAN_PHAM.MALSP
JOIN DON_VI_TINH ON SAN_PHAM.MADVT = don_vi_tinh.madvt
WHERE SAN_PHAM.DEL_STATUS NOT LIKE 'DELETED'
;
  GRANT INSERT ON "DOAN"."DANH_SACH_SAN_PHAM" TO "GIAKHUONG";
  GRANT UPDATE ON "DOAN"."DANH_SACH_SAN_PHAM" TO "GIAKHUONG";
--------------------------------------------------------
--  DDL for View DANH_SACH_SAN_PHAM_ADMIN
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."DANH_SACH_SAN_PHAM_ADMIN" ("TENSP", "TENLSP", "TENDVT", "TINH_TRANG") AS 
  SELECT TENSP, TENLSP, TENDVT,SAN_PHAM.DEL_STATUS AS TINH_TRANG
FROM SAN_PHAM JOIN loai_san_pham ON SAN_PHAM.MALSP = LOAI_SAN_PHAM.MALSP
JOIN DON_VI_TINH ON SAN_PHAM.MADVT = don_vi_tinh.madvt
;
--------------------------------------------------------
--  DDL for View LOI_NHUAN
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."LOI_NHUAN" ("THANG", "NAM", "LOI_NHUAN") AS 
  SELECT TONG_THU.THANG, TONG_THU.NAM,(TONG_THU - TONG_CHI_PHI) LOI_NHUAN
FROM CHI_PHI FULL OUTER JOIN TONG_THU ON CHI_PHI.THANG = TONG_THU.THANG AND CHI_PHI.NAM = TONG_THU.NAM
;
  GRANT SELECT ON "DOAN"."LOI_NHUAN" TO "GIAKHUONG";
  GRANT UPDATE ON "DOAN"."LOI_NHUAN" TO "GIAKHUONG";
--------------------------------------------------------
--  DDL for View NHAP_KHO
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."NHAP_KHO" ("THANG", "NAM", "MANL", "TENNL", "SO_LUONG_NHAP") AS 
  SELECT TO_CHAR(NGAY_NHAP_HANG,'MM') AS THANG,TO_CHAR(NGAY_NHAP_HANG,'YYYY') AS NAM, NL.MANL,
TENNL,SUM(TONG_SO_NL) AS SO_LUONG_NHAP 
FROM PHIEU_NHAP PN JOIN CT_PHIEU_NHAP CTPN ON PN.MA_PHIEU_NHAP = CTPN.MA_PHIEU_NHAP
JOIN LO_HANG LH ON LH.MALO = CTPN.MALO
JOIN CT_LO_HANG CTLH ON LH.MALO=CTLH.MALO
JOIN THUNG TH ON TH.MA_THUNG =  CTLH.MA_THUNG
JOIN CT_THUNG CTTH ON TH.MA_THUNG = CTTH.MA_THUNG
JOIN NGUYEN_LIEU NL ON NL.MANL = CTTH.MANL
JOIN CO_SO CS ON PN.MA_CO_SO_NHAP = CS.MA_CO_SO
WHERE LOAI_CO_SO LIKE u'Kho' OR LOAI_CO_SO LIKE u'Kho l\1ea1nh'
GROUP BY TO_CHAR(NGAY_NHAP_HANG,'MM'),TO_CHAR(NGAY_NHAP_HANG,'YYYY'),NL.MANL,TENNL
;
--------------------------------------------------------
--  DDL for View THONG_TIN_CHI_TIET_NHAN_VIEN
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."THONG_TIN_CHI_TIET_NHAN_VIEN" ("MANV", "HO_TEN", "GIOI_TINH", "SDT", "CHUC_VU", "CA", "MA_NQL", "MA_CO_SO") AS 
  SELECT NHAN_VIEN.MANV, CONCAT(CONCAT(HO_LOT,' '), TENNV) AS HO_TEN, GIOI_TINH, SDT, CHUC_VU, CA, MA_NQL, MA_CO_SO
FROM NHAN_VIEN FULL OUTER JOIN CHI_TIET_NHAN_VIEN
ON NHAN_VIEN.MANV = CHI_TIET_NHAN_VIEN.MANV
WHERE DEL_STATUS NOT LIKE 'DELETED'
;
  GRANT SELECT ON "DOAN"."THONG_TIN_CHI_TIET_NHAN_VIEN" TO "GIAKHUONG";
--------------------------------------------------------
--  DDL for View THONG_TIN_CHI_TIET_NHAN_VIEN_ADMIN
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."THONG_TIN_CHI_TIET_NHAN_VIEN_ADMIN" ("MANV", "HO_TEN", "GIOI_TINH", "SDT", "CHUC_VU", "CA", "MA_NQL", "MA_CO_SO", "TINH_TRANG") AS 
  SELECT NHAN_VIEN.MANV, CONCAT(CONCAT(HO_LOT,' '), TENNV) AS HO_TEN, 
GIOI_TINH, SDT, CHUC_VU, CA, MA_NQL, MA_CO_SO,NHAN_VIEN.DEL_STATUS AS TINH_TRANG
FROM NHAN_VIEN FULL OUTER JOIN CHI_TIET_NHAN_VIEN
ON NHAN_VIEN.MANV = CHI_TIET_NHAN_VIEN.MANV
;
--------------------------------------------------------
--  DDL for View THONG_TIN_HOA_DON
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."THONG_TIN_HOA_DON" ("SOHD", "TENSP", "SO_LUONG", "THANH_TIEN") AS 
  SELECT HOA_DON.SOHD, TENSP, SO_LUONG, THANH_TIEN
FROM HOA_DON JOIN CT_HOA_DON ON HOA_DON.SOHD = CT_HOA_DON.SOHD
JOIN SAN_PHAM ON CT_HOA_DON.MASP = SAN_PHAM.MASP
WHERE HOA_DON.DEL_STATUS NOT LIKE 'DELETED'
;
--------------------------------------------------------
--  DDL for View THONG_TIN_HOA_DON_ADMIN
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."THONG_TIN_HOA_DON_ADMIN" ("SOHD", "TENSP", "SO_LUONG", "THANH_TIEN", "TINH_TRANG") AS 
  SELECT HOA_DON.SOHD, TENSP, SO_LUONG, THANH_TIEN,HOA_DON.DEL_STATUS AS TINH_TRANG
FROM HOA_DON JOIN CT_HOA_DON ON HOA_DON.SOHD = CT_HOA_DON.SOHD
JOIN SAN_PHAM ON CT_HOA_DON.MASP = SAN_PHAM.MASP
;
--------------------------------------------------------
--  DDL for View THONG_TIN_PHIEU_NHAP
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."THONG_TIN_PHIEU_NHAP" ("MA_PHIEU_NHAP", "NGAY_LAP_PHIEU", "HO_TEN", "NHAP_TU", "XUAT_DEN", "NGAY_NHAP_HANG") AS 
  SELECT DISTINCT PN.MA_PHIEU_NHAP, NGAY_LAP_PHIEU, CONCAT(CONCAT(HO_LOT,' '), TENNV) AS HO_TEN ,NHAP_TU,XUAT_DEN, NGAY_NHAP_HANG
FROM PHIEU_NHAP PN JOIN CT_PHIEU_NHAP CTPN ON PN.MA_PHIEU_NHAP = CTPN.MA_PHIEU_NHAP
JOIN NHAN_VIEN NV ON PN.MANV = NV.MANV
JOIN (SELECT (PHIEU_NHAP.MA_CO_SO_NHAP) AS MA_NHAP, TEN_CO_SO NHAP_TU FROM CO_SO JOIN PHIEU_NHAP ON CO_SO.MA_CO_SO = PHIEU_NHAP.MA_CO_SO_NHAP) A 
ON PN.MA_CO_SO_NHAP = A.MA_NHAP
FULL OUTER JOIN (SELECT (PHIEU_NHAP.MA_CO_SO_XUAT) AS MA_XUAT, TEN_CO_SO XUAT_DEN FROM CO_SO JOIN PHIEU_NHAP 
ON CO_SO.MA_CO_SO = PHIEU_NHAP.MA_CO_SO_XUAT) B
ON PN.MA_CO_SO_XUAT = B.MA_XUAT
;
  GRANT DELETE ON "DOAN"."THONG_TIN_PHIEU_NHAP" TO "GIAKHUONG";
  GRANT UPDATE ON "DOAN"."THONG_TIN_PHIEU_NHAP" TO "GIAKHUONG";
--------------------------------------------------------
--  DDL for View THONG_TIN_PHIEU_XUAT
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."THONG_TIN_PHIEU_XUAT" ("MA_PHIEU_XUAT", "NGAY_LAP_PHIEU", "HO_TEN", "NHAP_DEN", "XUAT_TU", "NGAY_XUAT_HANG") AS 
  SELECT DISTINCT PX.MA_PHIEU_XUAT, NGAY_LAP_PHIEU, CONCAT(CONCAT(HO_LOT,' '), TENNV) AS HO_TEN ,NHAP_DEN, XUAT_TU, NGAY_XUAT_HANG
FROM PHIEU_XUAT PX JOIN CT_PHIEU_XUAT CTPX ON PX.MA_PHIEU_XUAT = CTPX.MA_PHIEU_XUAT
JOIN NHAN_VIEN NV ON PX.MANV = NV.MANV
FULL OUTER JOIN (SELECT (PHIEU_XUAT.MA_CO_SO_NHAP) AS MA_NHAP, TEN_CO_SO NHAP_DEN FROM CO_SO JOIN PHIEU_XUAT 
ON CO_SO.MA_CO_SO = PHIEU_XUAT.MA_CO_SO_NHAP) A 
ON PX.MA_CO_SO_NHAP = A.MA_NHAP
FULL OUTER JOIN (SELECT (PHIEU_XUAT.MA_CO_SO_XUAT) AS MA_XUAT, TEN_CO_SO XUAT_TU FROM CO_SO JOIN PHIEU_XUAT 
ON CO_SO.MA_CO_SO = PHIEU_XUAT.MA_CO_SO_XUAT) B
ON PX.MA_CO_SO_XUAT = B.MA_XUAT
;
--------------------------------------------------------
--  DDL for View TONG_THU
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."TONG_THU" ("THANG", "NAM", "TONG_THU") AS 
  SELECT TO_CHAR(NGAY_LAP_HD,'MM') AS THANG,TO_CHAR(NGAY_LAP_HD,'YYYY') AS NAM, SUM(TONG_TIEN) TONG_THU
FROM V_HOA_DON
GROUP BY TO_CHAR(NGAY_LAP_HD,'MM'),TO_CHAR(NGAY_LAP_HD,'YYYY')
;
  GRANT DELETE ON "DOAN"."TONG_THU" TO "BINHMINH";
  GRANT INSERT ON "DOAN"."TONG_THU" TO "BINHMINH";
  GRANT UPDATE ON "DOAN"."TONG_THU" TO "BINHMINH";
--------------------------------------------------------
--  DDL for View V_HOA_DON
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."V_HOA_DON" ("SOHD", "NGAY_LAP_HD", "MANV", "MAKH", "TONG_TIEN", "DEL_STATUS") AS 
  SELECT HOA_DON.SOHD,NGAY_LAP_HD,MANV,MAKH,SUM(THANH_TIEN) TONG_TIEN, DEL_STATUS
FROM HOA_DON JOIN CT_HOA_DON ON HOA_DON.SOHD = CT_HOA_DON.SOHD
GROUP BY HOA_DON.SOHD,NGAY_LAP_HD,MANV,MAKH,DEL_STATUS
;
  GRANT SELECT ON "DOAN"."V_HOA_DON" TO "BINHMINH";
--------------------------------------------------------
--  DDL for View V_TON_KHO
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."V_TON_KHO" ("THANG", "NAM", "MANL", "TENNL", "SO_LUONG_TON") AS 
  SELECT 
NHAP_KHO.THANG THANG, NHAP_KHO.NAM NAM,NHAP_KHO.MANL MANL, NHAP_KHO.TENNL TENNL,
CASE 
    WHEN SO_LUONG_XUAT IS NULL 
        THEN SO_LUONG_NHAP - 0 
    ELSE (SO_LUONG_NHAP - SO_LUONG_XUAT) 
END SO_LUONG_TON
FROM NHAP_KHO FULL OUTER JOIN XUAT_KHO ON NHAP_KHO.THANG = XUAT_KHO.THANG 
AND NHAP_KHO.NAM = XUAT_KHO.NAM AND NHAP_KHO.MANL = XUAT_KHO.MANL
WHERE NHAP_KHO.THANG IS NOT NULL AND NHAP_KHO.NAM IS NOT NULL AND NHAP_KHO.MANL 
IS NOT NULL AND NHAP_KHO.TENNL IS NOT NULL AND 
CASE 
    WHEN SO_LUONG_XUAT IS NULL 
        THEN SO_LUONG_NHAP - 0 
    ELSE (SO_LUONG_NHAP - SO_LUONG_XUAT) 
END IS NOT NULL
ORDER BY NHAP_KHO.NAM
;
--------------------------------------------------------
--  DDL for View XEM_TON_KHO
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."XEM_TON_KHO" ("THANG", "NAM", "MANL", "TENNL", "SO_LUONG_TON") AS 
  SELECT "THANG","NAM","MANL","TENNL","SO_LUONG_TON" FROM V_TON_KHO
;
  GRANT DELETE ON "DOAN"."XEM_TON_KHO" TO "VANMINH";
  GRANT INSERT ON "DOAN"."XEM_TON_KHO" TO "VANMINH";
  GRANT SELECT ON "DOAN"."XEM_TON_KHO" TO "VANMINH";
--------------------------------------------------------
--  DDL for View XUAT_KHO
--------------------------------------------------------

  CREATE OR REPLACE FORCE NONEDITIONABLE VIEW "DOAN"."XUAT_KHO" ("THANG", "NAM", "MANL", "TENNL", "SO_LUONG_XUAT") AS 
  SELECT TO_CHAR(NGAY_XUAT_HANG,'MM') AS THANG,TO_CHAR(NGAY_XUAT_HANG,'YYYY') AS NAM,NL.MANL, 
TENNL,SUM(TONG_SO_NL) AS SO_LUONG_XUAT 
FROM PHIEU_XUAT PX JOIN CT_PHIEU_XUAT CTPX ON PX.MA_PHIEU_XUAT = CTPX.MA_PHIEU_XUAT
JOIN LO_HANG LH ON LH.MALO = CTPX.MALO
JOIN CT_LO_HANG CTLH ON LH.MALO=CTLH.MALO
JOIN THUNG TH ON TH.MA_THUNG =  CTLH.MA_THUNG
JOIN CT_THUNG CTTH ON TH.MA_THUNG = CTTH.MA_THUNG
JOIN NGUYEN_LIEU NL ON NL.MANL = CTTH.MANL
JOIN CO_SO CS ON PX.MA_CO_SO_XUAT = CS.MA_CO_SO
WHERE LOAI_CO_SO LIKE u'Kho' OR LOAI_CO_SO LIKE u'Kho l\1ea1nh'
GROUP BY TO_CHAR(NGAY_XUAT_HANG,'MM'),TO_CHAR(NGAY_XUAT_HANG,'YYYY'),NL.MANL,TENNL
;
REM INSERTING into DOAN.BIEN_DONG_GIA
SET DEFINE OFF;
Insert into DOAN.BIEN_DONG_GIA (MASP,MANV,DON_GIA,NGAY_CAP_NHAT) values ('SP00001','NV00001',20000,to_date('10-NOV-21','DD-MON-RR'));
Insert into DOAN.BIEN_DONG_GIA (MASP,MANV,DON_GIA,NGAY_CAP_NHAT) values ('SP00002','NV00001',20000,to_date('10-NOV-21','DD-MON-RR'));
Insert into DOAN.BIEN_DONG_GIA (MASP,MANV,DON_GIA,NGAY_CAP_NHAT) values ('SP00003','NV00001',20000,to_date('10-NOV-21','DD-MON-RR'));
Insert into DOAN.BIEN_DONG_GIA (MASP,MANV,DON_GIA,NGAY_CAP_NHAT) values ('SP00004','NV00001',20000,to_date('10-NOV-21','DD-MON-RR'));
REM INSERTING into DOAN.CHI_TIET_NHAN_VIEN
SET DEFINE OFF;
Insert into DOAN.CHI_TIET_NHAN_VIEN (MANV,CA,MA_NQL,MA_CO_SO) values ('NV00004',3,'NV00002','KL00001');
Insert into DOAN.CHI_TIET_NHAN_VIEN (MANV,CA,MA_NQL,MA_CO_SO) values ('NV00005',2,'NV00006','PP00001');
Insert into DOAN.CHI_TIET_NHAN_VIEN (MANV,CA,MA_NQL,MA_CO_SO) values ('NV00008',1,'NV00002','KL00001');
Insert into DOAN.CHI_TIET_NHAN_VIEN (MANV,CA,MA_NQL,MA_CO_SO) values ('NV00003',3,'NV00001','KH00001');
REM INSERTING into DOAN.CO_SO
SET DEFINE OFF;
Insert into DOAN.CO_SO (MA_CO_SO,TEN_CO_SO,DIA_CHI,TINH_TRANG,LOAI_CO_SO,DEL_STATUS) values ('KH00001','Kho 1','Qu?n 10','Ho?t ??ng','Kho','ACTIVE');
Insert into DOAN.CO_SO (MA_CO_SO,TEN_CO_SO,DIA_CHI,TINH_TRANG,LOAI_CO_SO,DEL_STATUS) values ('KL00001','Kho 2','Qu?n 6','Ho?t ??ng','Kho l?nh','ACTIVE');
Insert into DOAN.CO_SO (MA_CO_SO,TEN_CO_SO,DIA_CHI,TINH_TRANG,LOAI_CO_SO,DEL_STATUS) values ('PP00001','Kho 3','Qu?n 2','Ho?t ??ng','Kho trung tâm phân ph?i','ACTIVE');
Insert into DOAN.CO_SO (MA_CO_SO,TEN_CO_SO,DIA_CHI,TINH_TRANG,LOAI_CO_SO,DEL_STATUS) values ('CN00001','Kho 4','Qu?n 3','Ho?t ??ng','Chi nhánh','ACTIVE');
REM INSERTING into DOAN.CT_HOA_DON
SET DEFINE OFF;
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00001','SP00001',3,60000);
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00001','SP00002',2,40000);
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00002','SP00002',3,60000);
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00002','SP00003',2,40000);
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00003','SP00001',3,60000);
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00003','SP00003',2,40000);
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00003','SP00002',2,40000);
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00043','SP00001',2,40000);
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00044','SP00002',5,100000);
Insert into DOAN.CT_HOA_DON (SOHD,MASP,SO_LUONG,THANH_TIEN) values ('HD00021','SP00003',10,200000);
REM INSERTING into DOAN.CT_LO_HANG
SET DEFINE OFF;
Insert into DOAN.CT_LO_HANG (MALO,MA_THUNG) values ('LH00001','TH00001');
Insert into DOAN.CT_LO_HANG (MALO,MA_THUNG) values ('LH00002','TH00002');
REM INSERTING into DOAN.CT_PHIEU_NHAP
SET DEFINE OFF;
Insert into DOAN.CT_PHIEU_NHAP (MA_PHIEU_NHAP,MALO,THOI_HAN) values ('PN00001','LH00001',2);
Insert into DOAN.CT_PHIEU_NHAP (MA_PHIEU_NHAP,MALO,THOI_HAN) values ('PN00002','LH00002',5);
Insert into DOAN.CT_PHIEU_NHAP (MA_PHIEU_NHAP,MALO,THOI_HAN) values ('PN00003','LH00003',4);
Insert into DOAN.CT_PHIEU_NHAP (MA_PHIEU_NHAP,MALO,THOI_HAN) values ('PN00021','LH00001',2);
Insert into DOAN.CT_PHIEU_NHAP (MA_PHIEU_NHAP,MALO,THOI_HAN) values ('PN00022','LH00001',5);
Insert into DOAN.CT_PHIEU_NHAP (MA_PHIEU_NHAP,MALO,THOI_HAN) values ('PN00023','LH00001',5);
REM INSERTING into DOAN.CT_PHIEU_XUAT
SET DEFINE OFF;
Insert into DOAN.CT_PHIEU_XUAT (MA_PHIEU_XUAT,MALO) values ('PX00001','LH00001');
Insert into DOAN.CT_PHIEU_XUAT (MA_PHIEU_XUAT,MALO) values ('PX00002','LH00002');
Insert into DOAN.CT_PHIEU_XUAT (MA_PHIEU_XUAT,MALO) values ('PX00003','LH00003');
Insert into DOAN.CT_PHIEU_XUAT (MA_PHIEU_XUAT,MALO) values ('PX00021','LH00002');
Insert into DOAN.CT_PHIEU_XUAT (MA_PHIEU_XUAT,MALO) values ('PX00022','LH00003');
REM INSERTING into DOAN.CT_SAN_PHAM
SET DEFINE OFF;
Insert into DOAN.CT_SAN_PHAM (MASP,MANL,SO_LUONG) values ('SP00001','NL00001',50);
Insert into DOAN.CT_SAN_PHAM (MASP,MANL,SO_LUONG) values ('SP00002','NL00002',50);
Insert into DOAN.CT_SAN_PHAM (MASP,MANL,SO_LUONG) values ('SP00003','NL00003',50);
REM INSERTING into DOAN.CT_THUNG
SET DEFINE OFF;
Insert into DOAN.CT_THUNG (MA_THUNG,MANL,TONG_SO_NL) values ('TH00001','NL00001',100);
Insert into DOAN.CT_THUNG (MA_THUNG,MANL,TONG_SO_NL) values ('TH00002','NL00002',100);
REM INSERTING into DOAN.DON_VI_TINH
SET DEFINE OFF;
Insert into DOAN.DON_VI_TINH (MADVT,TENDVT,DEL_STATUS) values ('DVT0001','Thùng','ACTIVE');
Insert into DOAN.DON_VI_TINH (MADVT,TENDVT,DEL_STATUS) values ('DVT0002','Con','ACTIVE');
Insert into DOAN.DON_VI_TINH (MADVT,TENDVT,DEL_STATUS) values ('DVT0003','Cái','ACTIVE');
Insert into DOAN.DON_VI_TINH (MADVT,TENDVT,DEL_STATUS) values ('DVT0004','kg','ACTIVE');
REM INSERTING into DOAN.HOA_DON
SET DEFINE OFF;
Insert into DOAN.HOA_DON (SOHD,NGAY_LAP_HD,MANV,MAKH,DEL_STATUS) values ('HD00001',to_date('20-JAN-22','DD-MON-RR'),'NV00003','KH00001','ACTIVE');
Insert into DOAN.HOA_DON (SOHD,NGAY_LAP_HD,MANV,MAKH,DEL_STATUS) values ('HD00002',to_date('22-JAN-22','DD-MON-RR'),'NV00003','KH00002','ACTIVE');
Insert into DOAN.HOA_DON (SOHD,NGAY_LAP_HD,MANV,MAKH,DEL_STATUS) values ('HD00003',to_date('18-JUN-22','DD-MON-RR'),'NV00003','KH00003','ACTIVE');
Insert into DOAN.HOA_DON (SOHD,NGAY_LAP_HD,MANV,MAKH,DEL_STATUS) values ('HD00043',to_date('22-JUN-22','DD-MON-RR'),'NV00001','KH00001','ACTIVE');
Insert into DOAN.HOA_DON (SOHD,NGAY_LAP_HD,MANV,MAKH,DEL_STATUS) values ('HD00044',to_date('22-JUN-22','DD-MON-RR'),'NV00001','KH00001','ACTIVE');
Insert into DOAN.HOA_DON (SOHD,NGAY_LAP_HD,MANV,MAKH,DEL_STATUS) values ('HD00021',to_date('19-JUN-22','DD-MON-RR'),'NV00003','KH00003','ACTIVE');
Insert into DOAN.HOA_DON (SOHD,NGAY_LAP_HD,MANV,MAKH,DEL_STATUS) values ('HD00022',to_date('19-JUN-22','DD-MON-RR'),'NV00003','KH00003','ACTIVE');
REM INSERTING into DOAN.KHACH_HANG
SET DEFINE OFF;
Insert into DOAN.KHACH_HANG (MAKH,SDT_KH,HO_LOT,TEN_KH,DEL_STATUS) values ('KH00001',929441668,'Ph?m ','Gia Kh??ng','ACTIVE');
Insert into DOAN.KHACH_HANG (MAKH,SDT_KH,HO_LOT,TEN_KH,DEL_STATUS) values ('KH00002',939664785,'Tr?n ','V?n Minh','ACTIVE');
Insert into DOAN.KHACH_HANG (MAKH,SDT_KH,HO_LOT,TEN_KH,DEL_STATUS) values ('KH00003',924465758,'Nguy?n V?n ','Bình Minh','ACTIVE');
REM INSERTING into DOAN.LOAI_NGUYEN_LIEU
SET DEFINE OFF;
Insert into DOAN.LOAI_NGUYEN_LIEU (MALNL,TENLNL,MANCC,DEL_STATUS) values ('LNL0001','Th?t','NCC0001','ACTIVE');
Insert into DOAN.LOAI_NGUYEN_LIEU (MALNL,TENLNL,MANCC,DEL_STATUS) values ('LNL0004','Rau','NCC0002','ACTIVE');
Insert into DOAN.LOAI_NGUYEN_LIEU (MALNL,TENLNL,MANCC,DEL_STATUS) values ('LNL0005','N??c','NCC0003','ACTIVE');
REM INSERTING into DOAN.LOAI_SAN_PHAM
SET DEFINE OFF;
Insert into DOAN.LOAI_SAN_PHAM (MALSP,TENLSP,DEL_STATUS) values ('LSP0001','Gà','ACTIVE');
Insert into DOAN.LOAI_SAN_PHAM (MALSP,TENLSP,DEL_STATUS) values ('LSP0002','Sandwich','ACTIVE');
REM INSERTING into DOAN.LO_HANG
SET DEFINE OFF;
Insert into DOAN.LO_HANG (MALO,TONG_SO_THUNG,SO_XE,DEL_STATUS) values ('LH00001',30,'59-L2-88888','ACTIVE');
Insert into DOAN.LO_HANG (MALO,TONG_SO_THUNG,SO_XE,DEL_STATUS) values ('LH00002',50,'59-N1-66666','ACTIVE');
Insert into DOAN.LO_HANG (MALO,TONG_SO_THUNG,SO_XE,DEL_STATUS) values ('LH00003',20,'59-H2-56789','ACTIVE');
REM INSERTING into DOAN.NGUYEN_LIEU
SET DEFINE OFF;
Insert into DOAN.NGUYEN_LIEU (MANL,TENNL,DON_GIA,MALNL,MADVT,DEL_STATUS) values ('NL00001','Cánh gà',20000,'LNL0001','DVT0003','ACTIVE');
Insert into DOAN.NGUYEN_LIEU (MANL,TENNL,DON_GIA,MALNL,MADVT,DEL_STATUS) values ('NL00002','?ùi gà',20000,'LNL0001','DVT0003','ACTIVE');
Insert into DOAN.NGUYEN_LIEU (MANL,TENNL,DON_GIA,MALNL,MADVT,DEL_STATUS) values ('NL00003','?c gà',20000,'LNL0001','DVT0003','ACTIVE');
REM INSERTING into DOAN.NHAN_VIEN
SET DEFINE OFF;
Insert into DOAN.NHAN_VIEN (MANV,CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU,DEL_STATUS) values ('NV00001',921858566,'Nguy?n','V?n A',27,'Nam',929441668,'Qu?n lý','ACTIVE');
Insert into DOAN.NHAN_VIEN (MANV,CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU,DEL_STATUS) values ('NV00002',939746452,'Lê','Th? N',25,'N?',785975795,'Qu?n lý','DELETED');
Insert into DOAN.NHAN_VIEN (MANV,CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU,DEL_STATUS) values ('NV00003',6729279956,'Nguy?n','V?n C',25,'Nam',929441663,'Nhân viên','ACTIVE');
Insert into DOAN.NHAN_VIEN (MANV,CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU,DEL_STATUS) values ('NV00004',6657265746,'Nguy?n','V?n D',26,'Nam',95875644,'Nhân viên','ACTIVE');
Insert into DOAN.NHAN_VIEN (MANV,CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU,DEL_STATUS) values ('NV00005',567527675,'Nguy?n','V?n E',25,'Nam',93944258,'Nhân viên','ACTIVE');
Insert into DOAN.NHAN_VIEN (MANV,CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU,DEL_STATUS) values ('NV00006',921336765,'Nguy?n','V?n X',27,'Nam',908678264,'Qu?n lý','ACTIVE');
Insert into DOAN.NHAN_VIEN (MANV,CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU,DEL_STATUS) values ('NV00007',939161662,'Lê','Thành T',25,'Nam',92673345,'Qu?n lý','ACTIVE');
Insert into DOAN.NHAN_VIEN (MANV,CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU,DEL_STATUS) values ('NV00008',697955722,'Tr?n','H?i ??ng',23,'Nam',908561519,'Nhân viên','ACTIVE');
Insert into DOAN.NHAN_VIEN (MANV,CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU,DEL_STATUS) values ('NV00021',666848486,'Tr??ng','Vi V??n',25,'Nam',905252599,'Nhân viên','ACTIVE');
REM INSERTING into DOAN.NHA_CUNG_CAP
SET DEFINE OFF;
Insert into DOAN.NHA_CUNG_CAP (MANCC,TENNCC,DIA_CHI,SDT,TINH_TRANG,DEL_STATUS) values ('NCC0001','NCC Chicken','Qu?n 1',995556658,'Ho?t ??ng','ACTIVE');
Insert into DOAN.NHA_CUNG_CAP (MANCC,TENNCC,DIA_CHI,SDT,TINH_TRANG,DEL_STATUS) values ('NCC0002','NCC Vegatables','Qu?n 3',987865556,'Ho?t ??ng','ACTIVE');
Insert into DOAN.NHA_CUNG_CAP (MANCC,TENNCC,DIA_CHI,SDT,TINH_TRANG,DEL_STATUS) values ('NCC0003','NCC Drink','Qu?n 5',214548529,'Ho?t ??ng','ACTIVE');
REM INSERTING into DOAN.PHAN_CONG
SET DEFINE OFF;
Insert into DOAN.PHAN_CONG (SO_XE,MA_TAI_XE) values ('59-L2-88888','TX00002');
Insert into DOAN.PHAN_CONG (SO_XE,MA_TAI_XE) values ('59-N1-66666','TX00001');
Insert into DOAN.PHAN_CONG (SO_XE,MA_TAI_XE) values ('59-L2-88888','TX00002');
Insert into DOAN.PHAN_CONG (SO_XE,MA_TAI_XE) values ('59-N1-66666','TX00001');
REM INSERTING into DOAN.PHIEU_NHAP
SET DEFINE OFF;
Insert into DOAN.PHIEU_NHAP (MA_PHIEU_NHAP,NGAY_LAP_PHIEU,NGAY_NHAP_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PN00001',to_date('01-JAN-22','DD-MON-RR'),to_date('18-JUN-22','DD-MON-RR'),'NV00003','KH00001','PP00001','ACTIVE');
Insert into DOAN.PHIEU_NHAP (MA_PHIEU_NHAP,NGAY_LAP_PHIEU,NGAY_NHAP_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PN00002',to_date('10-JAN-22','DD-MON-RR'),to_date('15-JAN-22','DD-MON-RR'),'NV00003','PP00001','KH00001','ACTIVE');
Insert into DOAN.PHIEU_NHAP (MA_PHIEU_NHAP,NGAY_LAP_PHIEU,NGAY_NHAP_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PN00003',to_date('15-JAN-22','DD-MON-RR'),to_date('20-JAN-22','DD-MON-RR'),'NV00003','PP00001','KH00001','ACTIVE');
Insert into DOAN.PHIEU_NHAP (MA_PHIEU_NHAP,NGAY_LAP_PHIEU,NGAY_NHAP_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PN00021',to_date('22-JUN-22','DD-MON-RR'),to_date('22-JUN-22','DD-MON-RR'),'NV00003','KH00001',null,'ACTIVE');
Insert into DOAN.PHIEU_NHAP (MA_PHIEU_NHAP,NGAY_LAP_PHIEU,NGAY_NHAP_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PN00022',to_date('22-JUN-22','DD-MON-RR'),to_date('22-JUN-22','DD-MON-RR'),'NV00003','KH00001',null,'ACTIVE');
Insert into DOAN.PHIEU_NHAP (MA_PHIEU_NHAP,NGAY_LAP_PHIEU,NGAY_NHAP_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PN00023',to_date('22-JUN-22','DD-MON-RR'),to_date('22-JUN-22','DD-MON-RR'),'NV00001','KH00001',null,'ACTIVE');
REM INSERTING into DOAN.PHIEU_XUAT
SET DEFINE OFF;
Insert into DOAN.PHIEU_XUAT (MA_PHIEU_XUAT,NGAY_LAP_PHIEU,NGAY_XUAT_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PX00001',to_date('05-JAN-22','DD-MON-RR'),to_date('18-JUN-22','DD-MON-RR'),'NV00003','PP00001','KH00001','ACTIVE');
Insert into DOAN.PHIEU_XUAT (MA_PHIEU_XUAT,NGAY_LAP_PHIEU,NGAY_XUAT_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PX00002',to_date('02-APR-22','DD-MON-RR'),to_date('05-APR-22','DD-MON-RR'),'NV00003','PP00001','KH00001','ACTIVE');
Insert into DOAN.PHIEU_XUAT (MA_PHIEU_XUAT,NGAY_LAP_PHIEU,NGAY_XUAT_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PX00003',to_date('12-MAY-22','DD-MON-RR'),to_date('16-MAY-22','DD-MON-RR'),'NV00003','PP00001','KH00001','ACTIVE');
Insert into DOAN.PHIEU_XUAT (MA_PHIEU_XUAT,NGAY_LAP_PHIEU,NGAY_XUAT_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PX00021',to_date('12-JAN-22','DD-MON-RR'),to_date('16-JAN-22','DD-MON-RR'),'NV00003','PP00001','KH00001','ACTIVE');
Insert into DOAN.PHIEU_XUAT (MA_PHIEU_XUAT,NGAY_LAP_PHIEU,NGAY_XUAT_HANG,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,DEL_STATUS) values ('PX00022',to_date('12-JAN-22','DD-MON-RR'),to_date('16-JAN-22','DD-MON-RR'),'NV00003','PP00001','KH00001','ACTIVE');
REM INSERTING into DOAN.SAN_PHAM
SET DEFINE OFF;
Insert into DOAN.SAN_PHAM (MASP,TENSP,MALSP,MADVT,DEL_STATUS) values ('SP00001','Cánh gà chiên mu?i tiêu chanh','LSP0001','DVT0003','ACTIVE');
Insert into DOAN.SAN_PHAM (MASP,TENSP,MALSP,MADVT,DEL_STATUS) values ('SP00002','Cánh gà chiên ki?u Pháp','LSP0001','DVT0003','ACTIVE');
Insert into DOAN.SAN_PHAM (MASP,TENSP,MALSP,MADVT,DEL_STATUS) values ('SP00003','Sandwich gà s?t phô mai','LSP0001','DVT0003','ACTIVE');
Insert into DOAN.SAN_PHAM (MASP,TENSP,MALSP,MADVT,DEL_STATUS) values ('SP00004','?ùi gà chiên n??c m?m','LSP0001','DVT0003','ACTIVE');
REM INSERTING into DOAN.TAI_XE
SET DEFINE OFF;
Insert into DOAN.TAI_XE (MA_TAI_XE,TEN_TAI_XE,CA,TUYEN,DEL_STATUS) values ('TX00001','Thành',1,'Qu?n 10 - Qu?n 6','ACTIVE');
Insert into DOAN.TAI_XE (MA_TAI_XE,TEN_TAI_XE,CA,TUYEN,DEL_STATUS) values ('TX00002','Tài',2,'Qu?n 10 - Qu?n 2','ACTIVE');
Insert into DOAN.TAI_XE (MA_TAI_XE,TEN_TAI_XE,CA,TUYEN,DEL_STATUS) values ('TX00004','Phúc',3,'Qu?n 10 - Qu?n 3','ACTIVE');
REM INSERTING into DOAN.THUNG
SET DEFINE OFF;
Insert into DOAN.THUNG (MA_THUNG,TINH_TRANG,DEL_STATUS) values ('TH00001','Nguyên ki?n','ACTIVE');
Insert into DOAN.THUNG (MA_THUNG,TINH_TRANG,DEL_STATUS) values ('TH00002','Nguyên ki?n','ACTIVE');
Insert into DOAN.THUNG (MA_THUNG,TINH_TRANG,DEL_STATUS) values ('TH00003','?ã m?','ACTIVE');
REM INSERTING into DOAN.TON_KHO
SET DEFINE OFF;
Insert into DOAN.TON_KHO (THANG,NAM,MA_NGUYEN_LIEU,TEN_NGUYEN_LIEU,SO_LUONG_TON) values ('06','2022','NL00001','Cánh gà',100);
REM INSERTING into DOAN.XE_VAN_CHUYEN
SET DEFINE OFF;
Insert into DOAN.XE_VAN_CHUYEN (SO_XE,LOAI_XE,HANG,DEL_STATUS) values ('59-L2-88888','Xe t?i','HYUNDAI','ACTIVE');
Insert into DOAN.XE_VAN_CHUYEN (SO_XE,LOAI_XE,HANG,DEL_STATUS) values ('59-N1-66666','Xe t?i','HYUNDAI','ACTIVE');
Insert into DOAN.XE_VAN_CHUYEN (SO_XE,LOAI_XE,HANG,DEL_STATUS) values ('59-H2-56789','Xe t?i
','HYUNDAI','ACTIVE');
--------------------------------------------------------
--  DDL for Trigger TRIG_ALTER_CT_HD
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_ALTER_CT_HD" 
BEFORE INSERT OR UPDATE
ON CT_HOA_DON
FOR EACH ROW
BEGIN
    IF (TRUNC(SYSDATE) > TRUNC(GET_NGAY_LAP_HD(:NEW.SOHD)))
    THEN RAISE_APPLICATION_ERROR(-20011,'You can not alter this form anymore');
    end if;
END;
/
ALTER TRIGGER "DOAN"."TRIG_ALTER_CT_HD" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_ALTER_HD
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_ALTER_HD" 
BEFORE INSERT OR UPDATE
ON HOA_DON
FOR EACH ROW
BEGIN
    IF (TRUNC(SYSDATE) > TRUNC(:OLD.NGAY_LAP_HD))
    THEN RAISE_APPLICATION_ERROR(-20011,'You can not alter this form anymore');
    end if;
END;
/
ALTER TRIGGER "DOAN"."TRIG_ALTER_HD" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_CTHD_THANH_TIEN
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_CTHD_THANH_TIEN" 
BEFORE INSERT OR UPDATE ON CT_HOA_DON
FOR EACH ROW
BEGIN
	:NEW.THANH_TIEN:=(:NEW.SO_LUONG * GET_LATEST_PRICE(:NEW.MASP,GET_NGAY_LAP_HD(:NEW.SOHD)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_CTHD_THANH_TIEN" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_CS
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_CS" 
BEFORE INSERT 
ON CO_SO
FOR EACH ROW
DECLARE
    input CHAR(7);
BEGIN
    IF :NEW.LOAI_CO_SO LIKE u'Kho'
    THEN    
        :NEW.MA_CO_SO := TO_CHAR(concat('KH', numberZerosString(SEQ_KHO_ID.NEXTVAL)));

    ELSIF :NEW.LOAI_CO_SO LIKE u'Kho l\1ea1nh'
    THEN    
       :NEW.MA_CO_SO := TO_CHAR(concat('KL', numberZerosString(SEQ_KHOLANH_ID.NEXTVAL)));

    ELSIF :NEW.LOAI_CO_SO LIKE u'Kho trung t\00e2m ph\00e2n ph\1ed1i'
    THEN
        :NEW.MA_CO_SO := TO_CHAR(concat('PP', numberZerosString(SEQ_KHOPHANPHOI_ID.NEXTVAL)));

    ELSIF :NEW.LOAI_CO_SO LIKE u'Chi nh\00e1nh'
    THEN 
        :NEW.MA_CO_SO := TO_CHAR(concat('CN', numberZerosString(SEQ_KHOCHINHANH_ID.NEXTVAL)));

    ELSE    
        :NEW.MA_CO_SO := TO_CHAR(concat('KH', numberZerosString(SEQ_KHO_ID.NEXTVAL)));     
    END IF;    
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_CS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_DVT
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_DVT" 
BEFORE INSERT 
ON DON_VI_TINH
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MADVT := TO_CHAR(concat('DVT', numberFourZerosString(SEQ_DVT_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_DVT" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_HD
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_HD" 
BEFORE INSERT 
ON HOA_DON
FOR EACH ROW
DECLARE

BEGIN
    :NEW.SOHD := TO_CHAR(concat('HD', numberZerosString(SEQ_HD_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_HD" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_KH
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_KH" 
BEFORE INSERT 
ON KHACH_HANG
FOR EACH ROW
DECLARE
    input CHAR(7);
BEGIN
    :NEW.MAKH := TO_CHAR(concat('KH', numberZerosString(SEQ_KH_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_KH" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_LH
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_LH" 
BEFORE INSERT 
ON LO_HANG
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MALO := TO_CHAR(concat('LH', numberZerosString(SEQ_LH_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_LH" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_LNL
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_LNL" 
BEFORE INSERT 
ON LOAI_NGUYEN_LIEU
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MALNL := TO_CHAR(concat('LNL', numberFourZerosString(SEQ_LNL_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_LNL" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_LSP
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_LSP" 
BEFORE INSERT 
ON LOAI_SAN_PHAM
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MALSP := TO_CHAR(concat('LSP', numberFourZerosString(SEQ_LSP_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_LSP" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_NCC
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_NCC" 
BEFORE INSERT 
ON NHA_CUNG_CAP
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MANCC := TO_CHAR(concat('NCC', numberFourZerosString(SEQ_NCC_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_NCC" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_NL
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_NL" 
BEFORE INSERT 
ON NGUYEN_LIEU
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MANL := TO_CHAR(concat('NL', numberZerosString(SEQ_NL_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_NL" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_NV
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_NV" 
BEFORE INSERT 
ON NHAN_VIEN
FOR EACH ROW
DECLARE
    input_manv CHAR(7);
BEGIN
    :NEW.MANV := TO_CHAR(concat('NV', numberZerosString(SEQ_NV_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_NV" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_PN
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_PN" 
BEFORE INSERT 
ON PHIEU_NHAP
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MA_PHIEU_NHAP := TO_CHAR(concat('PN', numberZerosString(SEQ_PN_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_PN" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_PX
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_PX" 
BEFORE INSERT 
ON PHIEU_XUAT
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MA_PHIEU_XUAT := TO_CHAR(concat('PX', numberZerosString(SEQ_PX_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_PX" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_SP
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_SP" 
BEFORE INSERT 
ON SAN_PHAM
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MASP := TO_CHAR(concat('SP', numberZerosString(SEQ_SP_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_SP" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_TH
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_TH" 
BEFORE INSERT 
ON THUNG
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MA_THUNG := TO_CHAR(concat('TH', numberZerosString(SEQ_TH_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_TH" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_INSERT_TX
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_INSERT_TX" 
BEFORE INSERT 
ON TAI_XE
FOR EACH ROW
DECLARE

BEGIN
    :NEW.MA_TAI_XE := TO_CHAR(concat('TX', numberZerosString(SEQ_TX_ID.NEXTVAL)));
END;
/
ALTER TRIGGER "DOAN"."TRIG_INSERT_TX" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_UPDATE_CS
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_UPDATE_CS" 
BEFORE UPDATE
ON CO_SO
FOR EACH ROW
BEGIN
    IF :NEW.TINH_TRANG NOT LIKE 'Ho?t ??ng' AND :NEW.TINH_TRANG NOT LIKE 'Ng?ng ho?t ??ng'
    THEN raise_application_error (-20001,'Tình tr?ng không t?n t?i');
    END IF;
END;
/
ALTER TRIGGER "DOAN"."TRIG_UPDATE_CS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_UPDATE_NV
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_UPDATE_NV" 
BEFORE UPDATE
ON NHAN_VIEN
FOR EACH ROW
BEGIN
    IF :NEW.CHUC_VU NOT LIKE 'Nhân viên' AND :NEW.CHUC_VU NOT LIKE 'Qu?n lý'
    THEN raise_application_error (-20001,'Ch?c v? không t?n t?i');
    END IF;
END;
/
ALTER TRIGGER "DOAN"."TRIG_UPDATE_NV" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIG_UPDATE_THUNG
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE TRIGGER "DOAN"."TRIG_UPDATE_THUNG" 
BEFORE UPDATE
ON THUNG
FOR EACH ROW
BEGIN
    IF :NEW.TINH_TRANG LIKE 'H?ng'
    THEN 
        UPDATE CT_THUNG
        SET TONG_SO_NL = 0
        WHERE MA_THUNG LIKE :NEW.MA_THUNG;
    END IF;
END;
/
ALTER TRIGGER "DOAN"."TRIG_UPDATE_THUNG" ENABLE;
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_CO_SO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_CO_SO" (input_macs CHAR)
AS
BEGIN 
UPDATE CO_SO
SET DEL_STATUS = 'DELETED'
WHERE MA_CO_SO LIKE input_macs;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_DVT
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_DVT" (input_madvt CHAR)
AS
BEGIN 
UPDATE DON_VI_TINH
SET DEL_STATUS = 'DELETED'
WHERE MADVT LIKE input_madvt;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_HD
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_HD" (input_mahd CHAR)
AS
BEGIN 
UPDATE HOA_DON
SET DEL_STATUS = 'DELETED'
WHERE SOHD LIKE input_mahd;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_KH
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_KH" (input_makh CHAR)
AS
BEGIN 
UPDATE KHACH_HANG
SET DEL_STATUS = 'DELETED'
WHERE MAKH LIKE input_makh;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_LH
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_LH" (input_malo CHAR)
AS
BEGIN 
UPDATE LO_HANG
SET DEL_STATUS = 'DELETED'
WHERE MALO LIKE input_malo;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_LNL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_LNL" (input_malnl CHAR)
AS
BEGIN 
UPDATE LOAI_NGUYEN_LIEU
SET DEL_STATUS = 'DELETED'
WHERE MALNL LIKE input_malnl;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_LSP
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_LSP" (input_malsp CHAR)
AS
BEGIN 
UPDATE LOAI_SAN_PHAM
SET DEL_STATUS = 'DELETED'
WHERE MALSP LIKE input_malsp;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_NCC
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_NCC" (input_mancc CHAR)
AS
BEGIN 
UPDATE NHA_CUNG_CAP
SET DEL_STATUS = 'DELETED'
WHERE MANCC LIKE input_mancc;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_NHAN_VIEN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_NHAN_VIEN" (input_manv CHAR)
AS
BEGIN 
UPDATE NHAN_VIEN
SET DEL_STATUS = 'DELETED'
WHERE MANV LIKE input_manv;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_NL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_NL" (input_manl CHAR)
AS
BEGIN 
UPDATE NGUYEN_LIEU
SET DEL_STATUS = 'DELETED'
WHERE MANL LIKE input_manl;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_PN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_PN" (input_mapn CHAR)
AS
BEGIN 
UPDATE PHIEU_NHAP
SET DEL_STATUS = 'DELETED'
WHERE MA_PHIEU_NHAP LIKE input_mapn;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_PX
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_PX" (input_mapx CHAR)
AS
BEGIN 
UPDATE PHIEU_XUAT
SET DEL_STATUS = 'DELETED'
WHERE MA_PHIEU_XUAT LIKE input_mapx;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_SP
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_SP" (input_masp CHAR)
AS
BEGIN 
UPDATE SAN_PHAM
SET DEL_STATUS = 'DELETED'
WHERE MASP LIKE input_masp;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_TH
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_TH" (input_mathung CHAR)
AS
BEGIN 
UPDATE THUNG
SET DEL_STATUS = 'DELETED'
WHERE MA_THUNG LIKE input_mathung;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_TX
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_TX" (input_matx CHAR)
AS
BEGIN 
UPDATE TAI_XE
SET DEL_STATUS = 'DELETED'
WHERE MA_TAI_XE LIKE input_matx;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_DEL_XVC
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_DEL_XVC" (input_maxvc CHAR)
AS
BEGIN 
UPDATE XE_VAN_CHUYEN
SET DEL_STATUS = 'DELETED'
WHERE SO_XE LIKE input_maxvc;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_GET_TON_KHO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_GET_TON_KHO" 
AS
    RETURN_TON_KHO TABLE_TON_KHO;
BEGIN
SELECT TYPE_TON_KHO (THANG,NAM,MANL,TENNL,SO_LUONG_TON) BULK COLLECT
INTO RETURN_TON_KHO
FROM V_TON_KHO;
FOR X IN 1..RETURN_TON_KHO.COUNT
    LOOP
        declare
            c integer;
        begin
            C :=0;
            select count(*) into c from TON_KHO 
            where (CONCAT(RETURN_TON_KHO(X).THANG,CONCAT(RETURN_TON_KHO(X).NAM,RETURN_TON_KHO(X).Ma_nguyen_lieu)))
            LIKE(CONCAT(TON_KHO.THANG,CONCAT(TON_KHO.NAM,TON_KHO.Ma_nguyen_lieu)));
        if c = 0 then                
        INSERT INTO TON_KHO
        VALUES(RETURN_TON_KHO(X).THANG,RETURN_TON_KHO(X).NAM,RETURN_TON_KHO(X).Ma_nguyen_lieu,
                    RETURN_TON_KHO(X).Ten_nguyen_lieu, RETURN_TON_KHO(X).So_luong_ton);
        end if;
        end;
    END LOOP;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_BDG
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_BDG" (
                                            input_masp CHAR,
                                            input_manv char,
                                            input_dongia float,
                                            input_ngaycapnhat date
                                            )
AS
BEGIN
    IF input_ngaycapnhat IS NULL
    THEN
    INSERT INTO BIEN_DONG_GIA (MASP,MANV,DON_GIA)
    VALUES(input_masp,input_manv,input_dongia);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    ELSIF input_ngaycapnhat IS NOT NULL
    THEN
    INSERT INTO BIEN_DONG_GIA
    VALUES(input_masp,input_manv,input_dongia,input_ngaycapnhat);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSE
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_COSO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_COSO" (
                                            input_ten nvarchar2,
                                            input_diachi nvarchar2,
                                            input_tinhtrang nvarchar2,
                                            input_loai nvarchar2
                                            )
AS
BEGIN
    IF input_loai LIKE u'Kho'
    THEN    
    INSERT INTO CO_SO(TEN_CO_SO,DIA_CHI,TINH_TRANG,LOAI_CO_SO)
    VALUES(input_ten,input_diachi,input_tinhtrang,input_loai);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSIF input_loai LIKE u'Kho l\1ea1nh'
    THEN    
    INSERT INTO CO_SO(TEN_CO_SO,DIA_CHI,TINH_TRANG,LOAI_CO_SO)
    VALUES(input_ten,input_diachi,input_tinhtrang,input_loai);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS KHO_LANH');

    ELSIF input_loai LIKE u'Kho trung t\00e2m ph\00e2n ph\1ed1i'
    THEN
    INSERT INTO CO_SO(TEN_CO_SO,DIA_CHI,TINH_TRANG,LOAI_CO_SO)
    VALUES(input_ten,input_diachi,input_tinhtrang,input_loai);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS PHAN_PHOI');

    ELSIF input_loai LIKE u'Chi nh\00e1nh'
    THEN 
    INSERT INTO CO_SO(TEN_CO_SO,DIA_CHI,TINH_TRANG,LOAI_CO_SO)
    VALUES(input_ten,input_diachi,input_tinhtrang,input_loai);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS CHI_NHANH');

    ELSE    
        INSERT INTO CO_SO(TEN_CO_SO,DIA_CHI,TINH_TRANG)
        VALUES(input_ten,input_diachi,input_tinhtrang);
        DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS DEFAULT FACILITY');      
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_CTHD
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_CTHD" (
                                            input_sohd CHAR,
                                            input_masp char,
                                            input_soluong NUMBER
                                            )
AS
BEGIN
    INSERT INTO CT_HOA_DON (sohd,masp,so_luong)
    VALUES(input_sohd,input_masp,input_soluong);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_CTLH
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_CTLH" (
                                            input_malo char,
                                            input_mathung char
                                            )
AS
BEGIN
    INSERT INTO CT_LO_HANG
    VALUES(input_malo,input_mathung);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_CTPN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_CTPN" (
                                            input_mapn char,
                                            input_malo char,
                                            input_thoihan number
                                            )
AS
BEGIN
    IF input_thoihan > 5
    THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
    ELSE
    INSERT INTO CT_PHIEU_NHAP
    VALUES(input_mapn,input_malo,input_thoihan);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    PRC_GET_TON_KHO;
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_CTPX
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_CTPX" (
                                            input_mapx char,
                                            input_malo char
                                            )
AS
BEGIN
    INSERT INTO CT_PHIEU_XUAT
    VALUES(input_mapx,input_malo);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_CTSP
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_CTSP" (
                                            input_masp char,
                                            input_manl char,
                                            input_soluong number
                                            )
AS
BEGIN
    INSERT INTO CT_SAN_PHAM
    VALUES(input_masp,input_manl,input_soluong);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_CTTHUNG
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_CTTHUNG" (
                                            input_mathung char,
                                            input_manl char,
                                            input_soluong number
                                            )
AS
BEGIN
    INSERT INTO CT_THUNG
    VALUES(input_mathung,input_manl,input_soluong);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_CT_NV
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_CT_NV" (
                                            input_MaNV char,
                                            input_Ca number,
                                            input_MaNQL char,
                                            input_MaCoSo char
                                            )
AS
BEGIN
    INSERT INTO chi_tiet_nhan_vien
    VALUES(input_MaNV,input_Ca,input_MaNQL,input_MaCoSo);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_DVT
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_DVT" (                                            
                                            input_tendvt nvarchar2 
                                            )
AS
BEGIN
    INSERT INTO DON_VI_TINH(TENDVT)
    VALUES(input_tendvt);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_HD
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_HD" (
                                            input_ngaylap date,
                                            input_manv char,
                                            input_makh char
                                            )
AS
BEGIN
    IF input_ngaylap IS NULL
    THEN
    INSERT INTO HOA_DON (MANV,MAKH)
    VALUES(input_manv,input_makh);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSIF input_ngaylap IS NOT NULL
    THEN
    INSERT INTO HOA_DON(NGAY_LAP_HD,MANV,MAKH)
    VALUES(input_ngaylap, input_manv,input_makh);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
--    EXCEPTION WHEN OTHERS THEN
    ELSE
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');

    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_KH
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_KH" (
                                            input_sdt number,
                                            input_holot nvarchar2,
                                            input_tenkh nvarchar2   
                                            )
AS
BEGIN
    INSERT INTO KHACH_HANG(SDT_KH,HO_LOT,TEN_KH)
    VALUES(input_sdt,input_holot,input_tenkh);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_LH
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_LH" (
                                            input_tongthung number,
                                            input_soxe varchar2
                                            )
AS
BEGIN
    INSERT INTO LO_HANG (TONG_SO_THUNG,SO_XE)
    VALUES(input_tongthung,input_soxe);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_LNL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_LNL" (
                                            input_tenlnl nvarchar2,
                                            input_mancc char
                                            )
AS
BEGIN
    INSERT INTO LOAI_NGUYEN_LIEU(TENLNL,MANCC)
    VALUES(input_tenlnl,input_mancc);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_LSP
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_LSP" (                                            
                                            input_tenlsp nvarchar2 
                                            )
AS
BEGIN
    INSERT INTO LOAI_SAN_PHAM (TENLSP)
    VALUES(input_tenlsp);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_NCC
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_NCC" (
                                            input_tenncc nvarchar2,
                                            input_diachi nvarchar2,
                                            input_sdt number,
                                            input_tinhtrang nvarchar2
                                            )
AS
BEGIN
    INSERT INTO NHA_CUNG_CAP(TENNCC,DIA_CHI,SDT,TINH_TRANG)
    VALUES(input_tenncc,input_diachi,input_sdt,input_tinhtrang);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_NL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_NL" (
                                            input_tenlnl nvarchar2,
                                            input_dongia float,
                                            input_malnl char,
                                            input_madvt char
                                            )
AS
BEGIN
    INSERT INTO NGUYEN_LIEU(TENNL,DON_GIA,MALNL,MADVT)
    VALUES(input_tenlnl,input_dongia,input_malnl,input_madvt);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_NV
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_NV" (
                                            input_cmnd number,
                                            input_holot nvarchar2,
                                            input_tennv nvarchar2,
                                            input_tuoi number,
                                            input_gioi_tinh nvarchar2,
                                            input_sdt char,
                                            input_chucvu nvarchar2
                                            )
AS
BEGIN
    IF input_chucvu IS NULL
    THEN
    INSERT INTO NHAN_VIEN (CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT)
    VALUES(input_cmnd,input_holot,input_tennv,input_tuoi,input_gioi_tinh,input_sdt);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSIF input_chucvu IS NOT NULL
    THEN
    INSERT INTO NHAN_VIEN (CMND,HO_LOT,TENNV,TUOI,GIOI_TINH,SDT,CHUC_VU)
    VALUES(input_cmnd,input_holot,input_tennv,input_tuoi,input_gioi_tinh,input_sdt,input_chucvu);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSE
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_PC
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_PC" (
                                            input_matx char,
                                            input_soxe varchar2
                                            )
AS
BEGIN
    INSERT INTO PHAN_CONG
    VALUES(input_matx,input_soxe);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_PN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_PN" (
                                            input_ngaylapphieu date,
                                            input_manv char,
                                            input_cosonhap char,
                                            input_cosoxuat char,
                                            input_ngaynhaphang date
                                            )
AS
BEGIN
    IF input_ngaylapphieu IS NULL AND input_ngaynhaphang IS NULL
    THEN

    INSERT INTO PHIEU_NHAP (MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT)
    VALUES(input_manv,input_cosonhap,input_cosoxuat);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSIF input_ngaylapphieu IS NOT NULL AND input_ngaynhaphang IS NOT NULL
    THEN

    INSERT INTO PHIEU_NHAP(NGAY_LAP_PHIEU,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,NGAY_NHAP_HANG)
    VALUES(input_ngaylapphieu,input_manv,input_cosonhap,input_cosoxuat,input_ngaynhaphang);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSIF input_ngaylapphieu IS NULL AND input_ngaynhaphang IS NOT NULL
    THEN

    INSERT INTO PHIEU_NHAP (MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,NGAY_NHAP_HANG)
    VALUES(input_manv,input_cosonhap,input_cosoxuat,input_ngaynhaphang);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSIF input_ngaylapphieu IS NOT NULL AND input_ngaynhaphang IS NULL
    THEN

    INSERT INTO PHIEU_NHAP (NGAY_LAP_PHIEU,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT)
    VALUES(input_ngaylapphieu,input_manv,input_cosonhap,input_cosoxuat);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSE
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_PX
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_PX" (
                                            input_ngaylapphieu date,
                                            input_manv char,
                                            input_cosonhap char,
                                            input_cosoxuat char,
                                            input_ngayxuathang date
                                            )
AS
BEGIN
    IF input_ngaylapphieu IS NULL AND input_ngayxuathang IS NULL
    THEN

    INSERT INTO PHIEU_XUAT (MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT)
    VALUES(input_manv,input_cosonhap,input_cosoxuat);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSIF input_ngaylapphieu IS NOT NULL AND input_ngayxuathang IS NOT NULL
    THEN

    INSERT INTO PHIEU_XUAT (NGAY_LAP_PHIEU,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,NGAY_XUAT_HANG)
    VALUES(input_ngaylapphieu,input_manv,input_cosonhap,input_cosoxuat,input_ngayxuathang);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSIF input_ngaylapphieu IS NULL AND input_ngayxuathang IS NOT NULL
    THEN

    INSERT INTO PHIEU_XUAT (MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT,NGAY_XUAT_HANG)
    VALUES(input_manv,input_cosonhap,input_cosoxuat,input_ngayxuathang);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSIF input_ngaylapphieu IS NOT NULL AND input_ngayxuathang IS NULL
    THEN

    INSERT INTO PHIEU_XUAT (NGAY_LAP_PHIEU,MANV,MA_CO_SO_NHAP,MA_CO_SO_XUAT)
    VALUES(input_ngaylapphieu,input_manv,input_cosonhap,input_cosoxuat);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');

    ELSE
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_SP
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_SP" (
                                            input_tensp nvarchar2,
                                            input_maloaisp char,
                                            input_madvt char
                                            )
AS
BEGIN
    INSERT INTO SAN_PHAM (TENSP,MALSP,MADVT)
    VALUES(input_tensp,input_maloaisp,input_madvt);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_TH
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_TH" (
                                            input_tinhtrang varchar2
                                            )
AS
BEGIN
    INSERT INTO THUNG (TINH_TRANG)
    VALUES(input_tinhtrang);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_TX
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_TX" (
                                            input_tentx nvarchar2,
                                            input_ca number,
                                            input_tuyen nvarchar2
                                            )
AS
BEGIN
    INSERT INTO TAI_XE (TEN_TAI_XE,CA,TUYEN)
    VALUES(input_tentx,input_ca,input_tuyen);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_INSERT_XVC
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_INSERT_XVC" (
                                            input_soxe varchar2,
                                            input_loaixe nvarchar2,
                                            input_hang nvarchar2
                                            )
AS
BEGIN
    INSERT INTO XE_VAN_CHUYEN (SO_XE,LOAI_XE,HANG)
    VALUES(input_soxe,input_loaixe,input_hang);
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    EXCEPTION WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('INSERT UNSUCCESSFULLY');
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_UDATE_THOI_HAN_CTPN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_UDATE_THOI_HAN_CTPN" (
                                            input_mapn char,
                                            input_malo char,
                                            input_thoihan number
                                            )
AS
BEGIN
    IF input_thoihan > 5
    THEN
    DBMS_OUTPUT.PUT_LINE('UPDATE UNSUCCESSFULLY, thoi han phai <= 5');
    ELSE
    UPDATE CT_PHIEU_NHAP
    SET THOI_HAN = input_thoihan
    WHERE MA_PHIEU_NHAP LIKE input_mapn AND MALO LIKE input_malo;
    DBMS_OUTPUT.PUT_LINE('INSERT SUCCESS');
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_UPDATE_COSO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_UPDATE_COSO" (input_macs CHAR, input_tinhtrang NVARCHAR2)
AS
BEGIN
         UPDATE CO_SO 
         SET TINH_TRANG = input_tinhtrang
         WHERE MA_CO_SO = input_macs;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_UPDATE_CTHOADON
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_UPDATE_CTHOADON" (input_sohd CHAR,input_masp CHAR, input_soluong NUMBER)
AS
BEGIN
    UPDATE CT_HOA_DON
    SET MASP = input_masp,
        SO_LUONG = input_soluong
    WHERE SOHD = input_sohd;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_UPDATE_CTNV
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_UPDATE_CTNV" (input_manv CHAR, input_ca NUMBER,input_nql CHAR, input_macs CHAR)
AS
BEGIN 
--000
IF input_ca IS NOT NULL AND input_nql IS NOT NULL AND input_macs IS NOT NULL
THEN
       UPDATE CHI_TIET_NHAN_VIEN
        SET CA = input_ca,
            MA_NQL = input_nql,
            MA_CO_SO = input_macs
        WHERE MANV=input_manv;
--001
ELSIF input_ca IS NOT NULL AND input_nql IS NOT NULL AND input_macs IS NULL
THEN
        UPDATE CHI_TIET_NHAN_VIEN
        SET CA = input_ca,
            MA_NQL = input_nql
        WHERE MANV=input_manv;
--011
ELSIF input_ca IS NOT NULL AND input_nql IS NULL AND input_macs IS NULL
THEN
        UPDATE CHI_TIET_NHAN_VIEN
        SET CA = input_ca
        WHERE MANV=input_manv;
--111
ELSIF input_ca IS NULL AND input_nql IS NULL AND input_macs IS NULL
THEN
        raise_application_error (-20001,'D? li?u ch?a thay ??i');
--110
ELSIF input_ca IS NULL AND input_nql IS NULL AND input_macs IS NOT NULL
THEN
        UPDATE CHI_TIET_NHAN_VIEN
        SET 
            MA_CO_SO = input_macs
        WHERE MANV=input_manv;
--100
ELSIF input_ca IS NULL AND input_nql IS NOT NULL AND input_macs IS NOT NULL
THEN
       UPDATE CHI_TIET_NHAN_VIEN
        SET 
            MA_NQL = input_nql,
            MA_CO_SO = input_macs
        WHERE MANV=input_manv;
--101
ELSIF input_ca IS NULL AND input_nql IS NOT NULL AND input_macs IS NULL
THEN
        UPDATE CHI_TIET_NHAN_VIEN
        SET 
            MA_NQL = input_nql
        WHERE MANV=input_manv;
--010
ELSIF input_ca IS NOT NULL AND input_nql IS NULL AND input_macs IS NOT NULL
THEN
        UPDATE CHI_TIET_NHAN_VIEN
        SET CA = input_ca,
            MA_CO_SO = input_macs
        WHERE MANV=input_manv;
END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_UPDATE_NV
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_UPDATE_NV" (input_manv CHAR, input_tuoi NUMBER,input_phone NUMBER, input_chucvu NVARCHAR2)
AS
BEGIN 
--000
IF input_tuoi IS NOT NULL AND input_phone IS NOT NULL AND input_chucvu IS NOT NULL
THEN
        UPDATE NHAN_VIEN
        SET TUOI=input_tuoi,
            SDT=input_phone,
            CHUC_VU= input_chucvu
        WHERE MANV=input_manv;
--001
ELSIF input_tuoi IS NOT NULL AND input_phone IS NOT NULL AND input_chucvu IS NULL
THEN
        UPDATE NHAN_VIEN
        SET TUOI=input_tuoi,
            SDT=input_phone
        WHERE MANV=input_manv;
--011
ELSIF input_tuoi IS NOT NULL AND input_phone IS NULL AND input_chucvu IS NULL
THEN
        UPDATE NHAN_VIEN
        SET TUOI=input_tuoi
        WHERE MANV=input_manv;
--111
ELSIF input_tuoi IS NULL AND input_phone IS NULL AND input_chucvu IS NULL
THEN
        raise_application_error (-20001,'D? li?u ch?a thay ??i');
--110
ELSIF input_tuoi IS NULL AND input_phone IS NULL AND input_chucvu IS NOT NULL
THEN
        UPDATE NHAN_VIEN
        SET 
            CHUC_VU= input_chucvu
        WHERE MANV=input_manv;
--100
ELSIF input_tuoi IS NULL AND input_phone IS NOT NULL AND input_chucvu IS NOT NULL
THEN
        UPDATE NHAN_VIEN
        SET 
            SDT=input_phone,
            CHUC_VU= input_chucvu
        WHERE MANV=input_manv;
--101
ELSIF input_tuoi IS NULL AND input_phone IS NOT NULL AND input_chucvu IS NULL
THEN
        UPDATE NHAN_VIEN
        SET 
            SDT=input_phone
        WHERE MANV=input_manv;
--010
ELSIF input_tuoi IS NOT NULL AND input_phone IS NULL AND input_chucvu IS NOT NULL
        THEN
        UPDATE NHAN_VIEN
        SET TUOI=input_tuoi,
            CHUC_VU= input_chucvu
        WHERE MANV=input_manv;
END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_UPDATE_PHIEUNHAP
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_UPDATE_PHIEUNHAP" (input_mapn CHAR, input_ngaynhap DATE)
AS
BEGIN
IF input_ngaynhap IS NULL THEN
    UPDATE PHIEU_NHAP
    SET  NGAY_NHAP_HANG = SYSDATE
    WHERE MA_PHIEU_NHAP = input_mapn;
ELSE
    UPDATE PHIEU_NHAP
    SET  NGAY_NHAP_HANG = input_ngaynhap
    WHERE MA_PHIEU_NHAP = input_mapn;
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_UPDATE_PHIEUXUAT
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_UPDATE_PHIEUXUAT" (input_mapx CHAR, input_ngayxuat DATE)
AS
BEGIN
IF input_ngayxuat IS NULL THEN
    UPDATE PHIEU_XUAT
    SET  NGAY_XUAT_HANG = SYSDATE
    WHERE MA_PHIEU_XUAT = input_mapx;
ELSE
    UPDATE PHIEU_XUAT
    SET  NGAY_XUAT_HANG = input_ngayxuat
    WHERE MA_PHIEU_XUAT = input_mapx;
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure PRC_UPDATE_THUNG
--------------------------------------------------------
set define off;

  CREATE OR REPLACE NONEDITIONABLE PROCEDURE "DOAN"."PRC_UPDATE_THUNG" (input_mathung CHAR,input_tinhtrang VARCHAR2)
AS
BEGIN
    UPDATE THUNG
    SET 
        TINH_TRANG = input_tinhtrang
    WHERE MA_THUNG = input_mathung;
END;

/
--------------------------------------------------------
--  DDL for Function GET_LATEST_PRICE
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE FUNCTION "DOAN"."GET_LATEST_PRICE" (N IN CHAR, M IN DATE) RETURN FLOAT
AS
R FLOAT;
BEGIN
    SELECT *  
    INTO R
    FROM
        (SELECT DON_GIA FROM Bien_Dong_Gia 
        WHERE N LIKE Bien_Dong_Gia.MASP AND M >= NGAY_CAP_NHAT
        ORDER BY Ngay_cap_nhat desc)
    WHERE ROWNUM = 1;
RETURN R;
END;

/
--------------------------------------------------------
--  DDL for Function GET_NGAY_LAP_HD
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE FUNCTION "DOAN"."GET_NGAY_LAP_HD" (N IN CHAR) RETURN DATE
AS
R DATE;
BEGIN
    SELECT NGAY_LAP_HD
    INTO R
    FROM HOA_DON 
    WHERE N LIKE SOHD;
    RETURN R;
END;

/
--------------------------------------------------------
--  DDL for Function NUMBERFOURZEROSSTRING
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE FUNCTION "DOAN"."NUMBERFOURZEROSSTRING" (
 n IN NUMBER
) RETURN VARCHAR2
AS
BEGIN
  RETURN LPAD( n, 4, '0' );
END;

/
--------------------------------------------------------
--  DDL for Function NUMBERZEROSSTRING
--------------------------------------------------------

  CREATE OR REPLACE NONEDITIONABLE FUNCTION "DOAN"."NUMBERZEROSSTRING" (
 n IN NUMBER
) RETURN VARCHAR2
AS
BEGIN
  RETURN LPAD( n, 5, '0' );
END;

/
--------------------------------------------------------
--  Constraints for Table CO_SO
--------------------------------------------------------

  ALTER TABLE "DOAN"."CO_SO" MODIFY ("TEN_CO_SO" NOT NULL ENABLE);
  ALTER TABLE "DOAN"."CO_SO" ADD CONSTRAINT "CHK_TINH_TRANG" CHECK (Tinh_trang IN ('Ho?t ??ng', 'Ng?ng ho?t ??ng')) ENABLE;
  ALTER TABLE "DOAN"."CO_SO" ADD CHECK (Loai_co_so IN ('Kho','Kho l?nh','Kho trung tâm phân ph?i','Chi nhánh')) ENABLE;
  ALTER TABLE "DOAN"."CO_SO" ADD PRIMARY KEY ("MA_CO_SO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."CO_SO" ADD CONSTRAINT "CHK_CS_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table LOAI_NGUYEN_LIEU
--------------------------------------------------------

  ALTER TABLE "DOAN"."LOAI_NGUYEN_LIEU" ADD PRIMARY KEY ("MALNL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."LOAI_NGUYEN_LIEU" ADD CONSTRAINT "CHK_LNL_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table NGUYEN_LIEU
--------------------------------------------------------

  ALTER TABLE "DOAN"."NGUYEN_LIEU" ADD PRIMARY KEY ("MANL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."NGUYEN_LIEU" ADD CONSTRAINT "CHK_NL_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table KHACH_HANG
--------------------------------------------------------

  ALTER TABLE "DOAN"."KHACH_HANG" ADD PRIMARY KEY ("MAKH")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."KHACH_HANG" ADD CONSTRAINT "CHK_KH_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table PHIEU_NHAP
--------------------------------------------------------

  ALTER TABLE "DOAN"."PHIEU_NHAP" ADD CONSTRAINT "CHK_PN_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
  ALTER TABLE "DOAN"."PHIEU_NHAP" ADD PRIMARY KEY ("MA_PHIEU_NHAP")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CT_PHIEU_NHAP
--------------------------------------------------------

  ALTER TABLE "DOAN"."CT_PHIEU_NHAP" ADD CONSTRAINT "CHK_THOI_HAN" CHECK (Thoi_han <= 5) ENABLE;
--------------------------------------------------------
--  Constraints for Table SAN_PHAM
--------------------------------------------------------

  ALTER TABLE "DOAN"."SAN_PHAM" ADD PRIMARY KEY ("MASP")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."SAN_PHAM" ADD CONSTRAINT "CHK_SP_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table XE_VAN_CHUYEN
--------------------------------------------------------

  ALTER TABLE "DOAN"."XE_VAN_CHUYEN" ADD CONSTRAINT "CHK_XVC_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
  ALTER TABLE "DOAN"."XE_VAN_CHUYEN" ADD PRIMARY KEY ("SO_XE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table THUNG
--------------------------------------------------------

  ALTER TABLE "DOAN"."THUNG" ADD CONSTRAINT "CHK_TINH_TRANG_THUNG" CHECK (Tinh_trang IN ('Nguyên ki?n','?ã m?','H?ng')) ENABLE;
  ALTER TABLE "DOAN"."THUNG" ADD PRIMARY KEY ("MA_THUNG")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."THUNG" ADD CONSTRAINT "CHK_TH_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table PHIEU_XUAT
--------------------------------------------------------

  ALTER TABLE "DOAN"."PHIEU_XUAT" ADD CONSTRAINT "CHK_PX_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
  ALTER TABLE "DOAN"."PHIEU_XUAT" ADD PRIMARY KEY ("MA_PHIEU_XUAT")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CT_HOA_DON
--------------------------------------------------------

  ALTER TABLE "DOAN"."CT_HOA_DON" ADD CONSTRAINT "CHK_THANH_TIEN" CHECK (Thanh_tien >= 1000) ENABLE;
  ALTER TABLE "DOAN"."CT_HOA_DON" ADD CONSTRAINT "CHK_SO_LUONG" CHECK (So_luong >= 1) ENABLE;
--------------------------------------------------------
--  Constraints for Table LOAI_SAN_PHAM
--------------------------------------------------------

  ALTER TABLE "DOAN"."LOAI_SAN_PHAM" ADD PRIMARY KEY ("MALSP")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."LOAI_SAN_PHAM" ADD CONSTRAINT "CHK_LSP_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table TAI_XE
--------------------------------------------------------

  ALTER TABLE "DOAN"."TAI_XE" ADD CONSTRAINT "CHK_TX_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
  ALTER TABLE "DOAN"."TAI_XE" ADD PRIMARY KEY ("MA_TAI_XE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table NHAN_VIEN
--------------------------------------------------------

  ALTER TABLE "DOAN"."NHAN_VIEN" MODIFY ("CMND" NOT NULL ENABLE);
  ALTER TABLE "DOAN"."NHAN_VIEN" MODIFY ("HO_LOT" NOT NULL ENABLE);
  ALTER TABLE "DOAN"."NHAN_VIEN" MODIFY ("TENNV" NOT NULL ENABLE);
  ALTER TABLE "DOAN"."NHAN_VIEN" ADD CONSTRAINT "CHK_GIOI_TINH" CHECK (Gioi_tinh IN ('Nam', 'N?')) ENABLE;
  ALTER TABLE "DOAN"."NHAN_VIEN" ADD CONSTRAINT "CHK_CHUC_VU" CHECK (Chuc_vu IN ('Nhân viên', 'Qu?n lý')) ENABLE;
  ALTER TABLE "DOAN"."NHAN_VIEN" ADD PRIMARY KEY ("MANV")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."NHAN_VIEN" ADD UNIQUE ("CMND")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."NHAN_VIEN" ADD CONSTRAINT "CHK_NV_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table NHA_CUNG_CAP
--------------------------------------------------------

  ALTER TABLE "DOAN"."NHA_CUNG_CAP" ADD CONSTRAINT "CHK_TINH_TRANG_NCC" CHECK (Tinh_trang IN ('Ho?t ??ng', 'Ng?ng ho?t ??ng')) ENABLE;
  ALTER TABLE "DOAN"."NHA_CUNG_CAP" ADD PRIMARY KEY ("MANCC")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."NHA_CUNG_CAP" ADD CONSTRAINT "CHK_NCC_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table LO_HANG
--------------------------------------------------------

  ALTER TABLE "DOAN"."LO_HANG" ADD PRIMARY KEY ("MALO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."LO_HANG" ADD CONSTRAINT "CHK_LH_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table HOA_DON
--------------------------------------------------------

  ALTER TABLE "DOAN"."HOA_DON" ADD PRIMARY KEY ("SOHD")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "DOAN"."HOA_DON" ADD CONSTRAINT "CHK_HD_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
--------------------------------------------------------
--  Constraints for Table DON_VI_TINH
--------------------------------------------------------

  ALTER TABLE "DOAN"."DON_VI_TINH" ADD CONSTRAINT "CHK_DVT_DEL_STATUS" CHECK (DEL_STATUS IN('ACTIVE','DELETED')) ENABLE;
  ALTER TABLE "DOAN"."DON_VI_TINH" ADD PRIMARY KEY ("MADVT")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table BIEN_DONG_GIA
--------------------------------------------------------

  ALTER TABLE "DOAN"."BIEN_DONG_GIA" ADD FOREIGN KEY ("MASP")
	  REFERENCES "DOAN"."SAN_PHAM" ("MASP") ENABLE;
  ALTER TABLE "DOAN"."BIEN_DONG_GIA" ADD FOREIGN KEY ("MANV")
	  REFERENCES "DOAN"."NHAN_VIEN" ("MANV") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CHI_TIET_NHAN_VIEN
--------------------------------------------------------

  ALTER TABLE "DOAN"."CHI_TIET_NHAN_VIEN" ADD FOREIGN KEY ("MANV")
	  REFERENCES "DOAN"."NHAN_VIEN" ("MANV") ENABLE;
  ALTER TABLE "DOAN"."CHI_TIET_NHAN_VIEN" ADD CONSTRAINT "FK_MANQL" FOREIGN KEY ("MA_NQL")
	  REFERENCES "DOAN"."NHAN_VIEN" ("MANV") ENABLE;
  ALTER TABLE "DOAN"."CHI_TIET_NHAN_VIEN" ADD FOREIGN KEY ("MA_CO_SO")
	  REFERENCES "DOAN"."CO_SO" ("MA_CO_SO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CT_HOA_DON
--------------------------------------------------------

  ALTER TABLE "DOAN"."CT_HOA_DON" ADD FOREIGN KEY ("SOHD")
	  REFERENCES "DOAN"."HOA_DON" ("SOHD") ENABLE;
  ALTER TABLE "DOAN"."CT_HOA_DON" ADD FOREIGN KEY ("MASP")
	  REFERENCES "DOAN"."SAN_PHAM" ("MASP") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CT_LO_HANG
--------------------------------------------------------

  ALTER TABLE "DOAN"."CT_LO_HANG" ADD FOREIGN KEY ("MALO")
	  REFERENCES "DOAN"."LO_HANG" ("MALO") ENABLE;
  ALTER TABLE "DOAN"."CT_LO_HANG" ADD FOREIGN KEY ("MA_THUNG")
	  REFERENCES "DOAN"."THUNG" ("MA_THUNG") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CT_PHIEU_NHAP
--------------------------------------------------------

  ALTER TABLE "DOAN"."CT_PHIEU_NHAP" ADD FOREIGN KEY ("MA_PHIEU_NHAP")
	  REFERENCES "DOAN"."PHIEU_NHAP" ("MA_PHIEU_NHAP") ENABLE;
  ALTER TABLE "DOAN"."CT_PHIEU_NHAP" ADD FOREIGN KEY ("MALO")
	  REFERENCES "DOAN"."LO_HANG" ("MALO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CT_PHIEU_XUAT
--------------------------------------------------------

  ALTER TABLE "DOAN"."CT_PHIEU_XUAT" ADD FOREIGN KEY ("MA_PHIEU_XUAT")
	  REFERENCES "DOAN"."PHIEU_XUAT" ("MA_PHIEU_XUAT") ENABLE;
  ALTER TABLE "DOAN"."CT_PHIEU_XUAT" ADD FOREIGN KEY ("MALO")
	  REFERENCES "DOAN"."LO_HANG" ("MALO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CT_SAN_PHAM
--------------------------------------------------------

  ALTER TABLE "DOAN"."CT_SAN_PHAM" ADD FOREIGN KEY ("MASP")
	  REFERENCES "DOAN"."SAN_PHAM" ("MASP") ENABLE;
  ALTER TABLE "DOAN"."CT_SAN_PHAM" ADD FOREIGN KEY ("MANL")
	  REFERENCES "DOAN"."NGUYEN_LIEU" ("MANL") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CT_THUNG
--------------------------------------------------------

  ALTER TABLE "DOAN"."CT_THUNG" ADD FOREIGN KEY ("MA_THUNG")
	  REFERENCES "DOAN"."THUNG" ("MA_THUNG") ENABLE;
  ALTER TABLE "DOAN"."CT_THUNG" ADD FOREIGN KEY ("MANL")
	  REFERENCES "DOAN"."NGUYEN_LIEU" ("MANL") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table HOA_DON
--------------------------------------------------------

  ALTER TABLE "DOAN"."HOA_DON" ADD FOREIGN KEY ("MANV")
	  REFERENCES "DOAN"."NHAN_VIEN" ("MANV") ENABLE;
  ALTER TABLE "DOAN"."HOA_DON" ADD FOREIGN KEY ("MAKH")
	  REFERENCES "DOAN"."KHACH_HANG" ("MAKH") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table LOAI_NGUYEN_LIEU
--------------------------------------------------------

  ALTER TABLE "DOAN"."LOAI_NGUYEN_LIEU" ADD FOREIGN KEY ("MANCC")
	  REFERENCES "DOAN"."NHA_CUNG_CAP" ("MANCC") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table LO_HANG
--------------------------------------------------------

  ALTER TABLE "DOAN"."LO_HANG" ADD FOREIGN KEY ("SO_XE")
	  REFERENCES "DOAN"."XE_VAN_CHUYEN" ("SO_XE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table NGUYEN_LIEU
--------------------------------------------------------

  ALTER TABLE "DOAN"."NGUYEN_LIEU" ADD FOREIGN KEY ("MALNL")
	  REFERENCES "DOAN"."LOAI_NGUYEN_LIEU" ("MALNL") ENABLE;
  ALTER TABLE "DOAN"."NGUYEN_LIEU" ADD FOREIGN KEY ("MADVT")
	  REFERENCES "DOAN"."DON_VI_TINH" ("MADVT") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PHAN_CONG
--------------------------------------------------------

  ALTER TABLE "DOAN"."PHAN_CONG" ADD FOREIGN KEY ("SO_XE")
	  REFERENCES "DOAN"."XE_VAN_CHUYEN" ("SO_XE") ENABLE;
  ALTER TABLE "DOAN"."PHAN_CONG" ADD FOREIGN KEY ("MA_TAI_XE")
	  REFERENCES "DOAN"."TAI_XE" ("MA_TAI_XE") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PHIEU_NHAP
--------------------------------------------------------

  ALTER TABLE "DOAN"."PHIEU_NHAP" ADD FOREIGN KEY ("MANV")
	  REFERENCES "DOAN"."NHAN_VIEN" ("MANV") ENABLE;
  ALTER TABLE "DOAN"."PHIEU_NHAP" ADD CONSTRAINT "FK_MA_CO_SO_NHAP_PN" FOREIGN KEY ("MA_CO_SO_NHAP")
	  REFERENCES "DOAN"."CO_SO" ("MA_CO_SO") ENABLE;
  ALTER TABLE "DOAN"."PHIEU_NHAP" ADD CONSTRAINT "FK_MA_CO_SO_XUAT_PN" FOREIGN KEY ("MA_CO_SO_XUAT")
	  REFERENCES "DOAN"."CO_SO" ("MA_CO_SO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PHIEU_XUAT
--------------------------------------------------------

  ALTER TABLE "DOAN"."PHIEU_XUAT" ADD FOREIGN KEY ("MANV")
	  REFERENCES "DOAN"."NHAN_VIEN" ("MANV") ENABLE;
  ALTER TABLE "DOAN"."PHIEU_XUAT" ADD CONSTRAINT "FK_MA_CO_SO_NHAP_PX" FOREIGN KEY ("MA_CO_SO_NHAP")
	  REFERENCES "DOAN"."CO_SO" ("MA_CO_SO") ENABLE;
  ALTER TABLE "DOAN"."PHIEU_XUAT" ADD CONSTRAINT "FK_MA_CO_SO_XUAT_PX" FOREIGN KEY ("MA_CO_SO_XUAT")
	  REFERENCES "DOAN"."CO_SO" ("MA_CO_SO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table SAN_PHAM
--------------------------------------------------------

  ALTER TABLE "DOAN"."SAN_PHAM" ADD FOREIGN KEY ("MALSP")
	  REFERENCES "DOAN"."LOAI_SAN_PHAM" ("MALSP") ENABLE;
  ALTER TABLE "DOAN"."SAN_PHAM" ADD FOREIGN KEY ("MADVT")
	  REFERENCES "DOAN"."DON_VI_TINH" ("MADVT") ENABLE;
